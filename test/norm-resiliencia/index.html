<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n Cumplimiento Normativo y Resiliencia BBVA</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --bg-card: #0d1117;
            --accent-blue: #004481;
            --accent-light-blue: #1f6feb;
            --accent-cyan: #39c5cf;
            --accent-green: #3fb950;
            --accent-red: #f85149;
            --accent-yellow: #d29922;
            --accent-orange: #db6d28;
            --accent-purple: #a371f7;
            --accent-pink: #db61a2;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --border-color: #30363d;
            --glow-blue: 0 0 20px rgba(31, 111, 235, 0.3);
            --glow-cyan: 0 0 20px rgba(57, 197, 207, 0.3);
            --glow-green: 0 0 20px rgba(63, 185, 80, 0.3);
            --glow-red: 0 0 20px rgba(248, 81, 73, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .bg-pattern {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(248, 81, 73, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(219, 109, 40, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2.5rem;
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            border-radius: 20px;
            border: 1px solid var(--accent-red);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-orange), var(--accent-yellow), var(--accent-red));
            background-size: 300% 100%;
            animation: gradient-shift 4s ease infinite;
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .logo-icon {
            width: 75px; height: 75px;
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            box-shadow: var(--glow-red);
        }

        .header h1 {
            font-size: 1.9rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p { color: var(--text-secondary); font-size: 1.05rem; margin-top: 0.5rem; }

        .fix-badge {
            display: inline-block;
            background: var(--accent-red);
            color: #fff;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.2rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover { border-color: var(--accent-cyan); box-shadow: var(--glow-cyan); }
        .stat-card.correct-stat { border-color: var(--accent-green); }
        .stat-card.incorrect-stat { border-color: var(--accent-red); }

        .stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--accent-cyan);
        }

        .stat-value.correct { color: var(--accent-green); }
        .stat-value.incorrect { color: var(--accent-red); }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.3rem;
        }

        .progress-container {
            background: var(--bg-tertiary);
            border-radius: 10px;
            height: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-orange), var(--accent-yellow));
            background-size: 200% 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            animation: progress-glow 2s ease infinite;
        }

        @keyframes progress-glow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .question-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .question-card:hover { border-color: rgba(57, 197, 207, 0.3); }
        .question-card.answered-correct { border-color: var(--accent-green); box-shadow: var(--glow-green); }
        .question-card.answered-incorrect { border-color: var(--accent-red); box-shadow: var(--glow-red); }

        .question-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .question-number {
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            color: white;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .question-category {
            font-size: 0.85rem;
            color: var(--text-muted);
            background: var(--bg-tertiary);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
        }

        .question-text {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        .module-badge {
            display: inline-block;
            padding: 0.3rem 0.7rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .module-badge.c0 { background: var(--accent-blue); color: white; }
        .module-badge.c1 { background: var(--accent-cyan); color: #000; }
        .module-badge.c2 { background: var(--accent-green); color: #000; }
        .module-badge.c3 { background: var(--accent-purple); color: white; }
        .module-badge.c4 { background: var(--accent-orange); color: white; }
        .module-badge.c5 { background: var(--accent-pink); color: white; }

        .options-list { display: flex; flex-direction: column; gap: 0.8rem; }

        .option {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.2rem;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover:not(.disabled) {
            border-color: var(--accent-cyan);
            background: rgba(57, 197, 207, 0.05);
        }

        .option.correct {
            border-color: var(--accent-green);
            background: rgba(63, 185, 80, 0.15);
            box-shadow: var(--glow-green);
        }

        .option.incorrect {
            border-color: var(--accent-red);
            background: rgba(248, 81, 73, 0.15);
            box-shadow: var(--glow-red);
        }

        .option.disabled { cursor: not-allowed; opacity: 0.7; }
        .option.show-correct { border-color: var(--accent-green); background: rgba(63, 185, 80, 0.1); }

        .option-letter {
            width: 36px; height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-primary);
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .option:hover:not(.disabled) .option-letter { background: var(--accent-cyan); color: #000; }
        .option.correct .option-letter { background: var(--accent-green); color: #000; }
        .option.incorrect .option-letter { background: var(--accent-red); color: white; }
        .option.show-correct .option-letter { background: var(--accent-green); color: #000; }

        .option-text { flex: 1; color: var(--text-primary); font-size: 0.95rem; }

        .option-feedback {
            font-size: 0.9rem;
            font-weight: 500;
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .option-feedback.correct { color: var(--accent-green); }
        .option-feedback.incorrect { color: var(--accent-red); }

        .feedback-message {
            margin-top: 1.5rem;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 500;
            animation: fadeIn 0.3s ease;
        }

        .feedback-message.correct {
            background: rgba(63, 185, 80, 0.15);
            border: 1px solid var(--accent-green);
            color: var(--accent-green);
        }

        .feedback-message.incorrect {
            background: rgba(248, 81, 73, 0.15);
            border: 1px solid var(--accent-red);
            color: var(--accent-red);
        }

        .feedback-icon { font-size: 1.5rem; }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.9rem 2rem;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            color: white;
        }

        .btn-primary:hover { transform: translateY(-2px); box-shadow: var(--glow-red); }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover { border-color: var(--accent-cyan); background: var(--bg-secondary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .question-nav {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(34px, 1fr));
            gap: 0.25rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            margin-bottom: 2rem;
            max-height: 200px;
            overflow-y: auto;
        }

        .nav-btn {
            width: 34px; height: 34px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .nav-btn:hover { border-color: var(--accent-cyan); color: var(--accent-cyan); }
        .nav-btn.current { background: linear-gradient(135deg, var(--accent-red), var(--accent-orange)); border-color: transparent; color: white; }
        .nav-btn.correct { background: var(--accent-green); border-color: transparent; color: #000; }
        .nav-btn.incorrect { background: var(--accent-red); border-color: transparent; color: white; }

        .results-container { text-align: center; padding: 3rem; }

        .results-score {
            font-size: 5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange), var(--accent-yellow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .results-grade { font-size: 2rem; margin-bottom: 2rem; }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .result-stat { background: var(--bg-tertiary); padding: 1.5rem; border-radius: 12px; }

        .result-stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 600;
        }

        .result-stat-value.correct { color: var(--accent-green); }
        .result-stat-value.incorrect { color: var(--accent-red); }
        .result-stat-value.unanswered { color: var(--accent-yellow); }

        .start-screen { text-align: center; padding: 3rem; }
        .start-screen h2 { font-size: 2rem; margin-bottom: 1.5rem; }

        .start-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            text-align: left;
        }

        .info-item {
            background: var(--bg-tertiary);
            padding: 1.2rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .info-icon {
            width: 50px; height: 50px;
            background: var(--bg-secondary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .info-text h4 { font-size: 0.85rem; color: var(--text-muted); font-weight: 400; }
        .info-text p { font-size: 1rem; color: var(--text-primary); font-weight: 500; }

        .category-selector { margin: 2rem 0; }
        .category-selector h3 { margin-bottom: 1rem; color: var(--text-secondary); }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 0.8rem;
            max-height: 320px;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .category-chip {
            padding: 0.8rem 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .category-chip:hover { border-color: var(--accent-cyan); }
        .category-chip.selected { border-color: var(--accent-cyan); background: rgba(57, 197, 207, 0.1); }
        .category-chip-name { font-weight: 500; color: var(--text-primary); font-size: 0.85rem; }
        .category-chip-count { font-size: 0.75rem; color: var(--text-muted); }

        .question-limit {
            margin: 1.5rem 0;
            padding: 1rem;
            background: var(--bg-tertiary);
            border-radius: 12px;
        }

        .question-limit label { display: block; margin-bottom: 0.5rem; color: var(--text-secondary); }

        .question-limit input {
            width: 100px;
            padding: 0.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            text-align: center;
        }

        .warning-box {
            background: rgba(248, 81, 73, 0.1);
            border: 1px solid var(--accent-red);
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
            color: var(--accent-red);
            font-weight: 500;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-cyan); }

        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .stats-bar { grid-template-columns: repeat(2, 1fr); }
            .header h1 { font-size: 1.4rem; }
            .question-text { font-size: 1rem; }
            .start-info { grid-template-columns: 1fr; }
            .results-stats { grid-template-columns: 1fr; }
            .navigation { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
        }

        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 0 0 rgba(63, 185, 80, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(63, 185, 80, 0); }
        }

        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(248, 81, 73, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(248, 81, 73, 0); }
        }

        .option.correct { animation: pulse-green 0.5s ease; }
        .option.incorrect { animation: pulse-red 0.5s ease; }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    
    <div class="container">
        <header class="header">
            <div class="logo">
                <div class="logo-icon">üî•</div>
                <div>
                    <h1>Cumplimiento Normativo y Resiliencia</h1>
                    <p>Systems Engineering BBVA - Evaluaci√≥n Completa</p>
                    <span class="fix-badge">‚úì Opciones aleatorizadas</span>
                </div>
            </div>
        </header>

        <div id="startScreen" class="question-card start-screen">
            <h2>üî• Evaluaci√≥n MODO DIF√çCIL üî•</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Curso completo sobre normativas, resiliencia y control interno en BBVA.<br>
                <strong style="color: var(--accent-red);">Las opciones incorrectas son m√°s similares a la correcta.</strong><br>
                <strong style="color: var(--accent-orange);">Lee cada opci√≥n cuidadosamente antes de responder.</strong>
            </p>

            <div class="warning-box">
                ‚ö†Ô∏è Este modo est√° dise√±ado para expertos. Las opciones son deliberadamente confusas y requieren conocimiento profundo del material.
            </div>

            <div class="start-info">
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-blue);">üéØ</div>
                    <div class="info-text">
                        <h4>Cap. 0-1</h4>
                        <p>P√∫blico y Marco Normativo (15)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-cyan);">üèõÔ∏è</div>
                    <div class="info-text">
                        <h4>Cap. 2</h4>
                        <p>Enfoque BBVA ante Regulaci√≥n (10)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-green);">üîí</div>
                    <div class="info-text">
                        <h4>Cap. 3</h4>
                        <p>Resiliencia y Normas (160)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-purple);">‚öôÔ∏è</div>
                    <div class="info-text">
                        <h4>Cap. 4</h4>
                        <p>Control Interno (22)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-orange);">‚úÖ</div>
                    <div class="info-text">
                        <h4>Cap. 5</h4>
                        <p>CVT - Checklist (30)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-pink);">üìä</div>
                    <div class="info-text">
                        <h4>Total</h4>
                        <p>237 preguntas completas</p>
                    </div>
                </div>
            </div>

            <div class="question-limit">
                <label>N√∫mero de preguntas para el examen:</label>
                <input type="number" id="questionLimit" min="10" max="237" value="50">
                <span style="color: var(--text-muted); margin-left: 0.5rem;">(10-237)</span>
            </div>

            <div class="category-selector">
                <h3>Filtrar por cap√≠tulos (opcional):</h3>
                <div class="category-grid" id="categoryGrid"></div>
            </div>

            <button class="btn btn-primary" onclick="startExam()" style="margin-top: 1rem; padding: 1rem 3rem;">
                üî• Comenzar Evaluaci√≥n Dif√≠cil
            </button>
        </div>

        <div id="examScreen" class="hidden">
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-value" id="currentQuestion">1</div>
                    <div class="stat-label">Actual</div>
                </div>
                <div class="stat-card correct-stat">
                    <div class="stat-value correct" id="correctCount">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-card incorrect-stat">
                    <div class="stat-value incorrect" id="incorrectCount">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalQuestions">50</div>
                    <div class="stat-label">Total</div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>

            <div class="question-nav" id="questionNav"></div>

            <div class="question-card fade-in" id="questionCard">
                <div class="question-header">
                    <span class="question-number" id="questionNumber">Pregunta 1</span>
                    <span class="question-category" id="questionCategory">Categor√≠a</span>
                    <span class="module-badge" id="moduleBadge">Cap. 1</span>
                </div>
                <div id="questionContent">
                    <p class="question-text" id="questionText">Texto de la pregunta...</p>
                </div>
                <div class="options-list" id="optionsList"></div>
                <div id="feedbackContainer"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="prevQuestion()">‚Üê Anterior</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Siguiente ‚Üí</button>
                <button class="btn btn-primary hidden" id="finishBtn" onclick="finishExam()">üèÅ Finalizar</button>
            </div>
        </div>

        <div id="resultsScreen" class="hidden">
            <div class="question-card results-container">
                <h2 style="margin-bottom: 1rem;">Resultados - MODO DIF√çCIL üî•</h2>
                <div class="results-score" id="finalScore">0%</div>
                <div class="results-grade" id="gradeText">Calificaci√≥n</div>
                
                <div class="results-stats">
                    <div class="result-stat">
                        <div class="result-stat-value correct" id="finalCorrectCount">0</div>
                        <div class="stat-label">Correctas</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-stat-value incorrect" id="finalIncorrectCount">0</div>
                        <div class="stat-label">Incorrectas</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-stat-value unanswered" id="finalUnansweredCount">0</div>
                        <div class="stat-label">Sin responder</div>
                    </div>
                </div>

                <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="reviewAnswers()">üìã Revisar Respuestas</button>
                    <button class="btn btn-primary" onclick="restartExam()">üîÑ Nuevo Examen</button>
                </div>
            </div>
        </div>

        <div id="reviewScreen" class="hidden">
            <div class="question-card" style="margin-bottom: 1rem;">
                <h2 style="margin-bottom: 0.5rem;">Revisi√≥n de Respuestas - MODO DIF√çCIL</h2>
                <p style="color: var(--text-secondary);">Las respuestas correctas se muestran en verde</p>
            </div>
            <div id="reviewContainer"></div>
            <div class="navigation">
                <button class="btn btn-primary" onclick="backToResults()">‚Üê Volver a Resultados</button>
            </div>
        </div>
    </div>

    <script>
        // HARD MODE Question Database - 237 questions with challenging distractors
        const allQuestions = [
            // ========== CAP√çTULO 0-1: P√öBLICO OBJETIVO Y MARCO NORMATIVO (15 preguntas) ==========
            {id:1,module:"c0",category:"P√∫blico Objetivo",question:"¬øA qui√©n est√° dirigido el curso de Cumplimiento Normativo y Resiliencia?",options:["Al personal de operaciones y soporte t√©cnico en BBVA M√©xico","Al personal de desarrollo de sistemas en BBVA M√©xico","Al personal de gesti√≥n de riesgos y auditor√≠a en BBVA M√©xico","Al personal de seguridad de la informaci√≥n en BBVA M√©xico"],correct:1},
            {id:2,module:"c0",category:"Objetivo Curso",question:"El objetivo del curso es eliminar el riesgo generado por:",options:["La aplicaci√≥n incorrecta de las normativas existentes","El desconocimiento de las normativas clave","La interpretaci√≥n ambigua de los marcos regulatorios","La actualizaci√≥n tard√≠a de los procedimientos internos"],correct:1},
            {id:3,module:"c0",category:"Impacto Incumplimiento",question:"El incumplimiento de normativas puede generar errores de dise√±o o implementaci√≥n, deficiente calidad del software y:",options:["Degradaci√≥n del rendimiento de aplicaciones","Vulnerabilidades de seguridad","Inconsistencias en la documentaci√≥n t√©cnica","Retrasos en los ciclos de desarrollo"],correct:1},
            {id:4,module:"c0",category:"Consecuencias",question:"El incumplimiento regulatorio puede derivar en sanciones, p√©rdida de confianza del cliente, p√©rdidas patrimoniales y:",options:["Incremento en los costos operativos","Riesgo reputacional","Deterioro de las relaciones con proveedores","Reducci√≥n de la eficiencia organizacional"],correct:1},
            {id:5,module:"c0",category:"Improductividad",question:"La improductividad por incumplimiento de normativas se genera por:",options:["Aumento de reuniones de coordinaci√≥n entre equipos t√©cnicos","Mayor tiempo en revisiones y validaciones por retrabajos en c√≥digo y pruebas","Incremento de la documentaci√≥n requerida por auditor√≠a","Necesidad de capacitaci√≥n adicional en herramientas"],correct:1},
            {id:6,module:"c1",category:"Sector Financiero",question:"El sector financiero en M√©xico es una industria altamente regulada para proteger:",options:["La competitividad del mercado, garantizar la transparencia y prevenir el lavado de dinero","Los intereses del p√∫blico, asegurar la solvencia de las instituciones y mantener la estabilidad del sistema","Los activos digitales, promover la innovaci√≥n tecnol√≥gica y fomentar la inclusi√≥n financiera","La infraestructura cr√≠tica, minimizar el riesgo sist√©mico y proteger los datos personales"],correct:1},
            {id:7,module:"c1",category:"CNBV",question:"La Comisi√≥n Nacional Bancaria y de Valores (CNBV) es la emisora de:",options:["Las Disposiciones de Car√°cter General aplicables a Instituciones de Cr√©dito","La Circular √önica de Bancos (CUB)","El Reglamento Interior de la Secretar√≠a de Hacienda","Las Reglas de Operaci√≥n del Sistema Financiero Mexicano"],correct:1},
            {id:8,module:"c1",category:"CUB",question:"La Circular √önica de Bancos (CUB) consolida disposiciones sobre:",options:["Gesti√≥n de capital, liquidez, gobierno corporativo y prevenci√≥n de lavado de dinero","Riesgo operacional, tecnol√≥gico, seguridad de la informaci√≥n y continuidad del negocio","Control interno, auditor√≠a, cumplimiento normativo y gesti√≥n de fraudes","Protecci√≥n al consumidor, transparencia, conducta de mercado y reportes regulatorios"],correct:1},
            {id:9,module:"c1",category:"Banxico",question:"El Banco de M√©xico (Banxico) emite regulaciones sobre:",options:["Gesti√≥n de riesgos financieros y requerimientos de capital para instituciones bancarias","Ciberseguridad e infraestructura tecnol√≥gica para garantizar la resiliencia del sistema financiero","Protecci√≥n de datos personales y privacidad de informaci√≥n de clientes","Gobierno corporativo y estructura organizacional de entidades financieras"],correct:1},
            {id:10,module:"c1",category:"INAI",question:"El organismo que vigila el cumplimiento de la Ley Federal de Protecci√≥n de Datos Personales es:",options:["CNBV","Banxico","INAI (ahora bajo Secretar√≠a Anticorrupci√≥n)","CONDUSEF"],correct:2},
            {id:11,module:"c1",category:"LFPDPPP",question:"La LFPDPPP es una ley fundamental para cualquier sistema que maneje:",options:["Transacciones financieras electr√≥nicas","Informaci√≥n de clientes","Infraestructura cr√≠tica de TI","Activos digitales y criptomonedas"],correct:1},
            {id:12,module:"c1",category:"CNBV Funci√≥n",question:"La CNBV supervisa y regula a las entidades financieras para procurar su:",options:["Rentabilidad y competitividad en el mercado","Estabilidad y correcto funcionamiento","Innovaci√≥n y transformaci√≥n digital","Expansi√≥n y crecimiento sostenible"],correct:1},
            {id:13,module:"c1",category:"Banxico Enfoque",question:"Banxico como banco central se enfoca en el buen funcionamiento de:",options:["Las pol√≠ticas monetarias y cambiarias","Los sistemas de pago","Los mercados de valores y derivados","Las operaciones interbancarias"],correct:1},
            {id:14,module:"c1",category:"Resiliencia Sistema",question:"Las regulaciones de Banxico buscan garantizar la resiliencia del:",options:["Sistema de gesti√≥n de riesgos","Sistema financiero","Sistema de control interno","Sistema de informaci√≥n gerencial"],correct:1},
            {id:15,module:"c1",category:"Datos Personales",question:"La protecci√≥n de datos personales es crucial para sistemas que manejen informaci√≥n de:",options:["Transacciones bancarias","Clientes","Operaciones de mercado","Activos financieros"],correct:1},

            // ========== CAP√çTULO 2: ENFOQUE BBVA ANTE LA REGULACI√ìN (10 preguntas) ==========
            {id:16,module:"c2",category:"Marco Actuaci√≥n",question:"BBVA establece un marco de actuaci√≥n interno para garantizar que todas sus √°reas operen bajo principios de:",options:["Eficiencia, innovaci√≥n y competitividad en la gesti√≥n empresarial","Integridad, transparencia y prudencia en la gesti√≥n de riesgos","Calidad, agilidad y adaptabilidad en los procesos operativos","Seguridad, disponibilidad y confidencialidad en los sistemas"],correct:1},
            {id:17,module:"c2",category:"Regulaci√≥n Interna",question:"La Regulaci√≥n Interna de BBVA se compone de:",options:["Est√°ndares, Gu√≠as y Manuales T√©cnicos","Pol√≠ticas, Normas y Procedimientos","Directivas, Instructivos y Protocolos","Reglamentos, Circulares y Disposiciones"],correct:1},
            {id:18,module:"c2",category:"Documentos Internos",question:"Los documentos de regulaci√≥n interna traducen las exigencias regulatorias externas en:",options:["Reportes de cumplimiento y evidencias de control","Directrices claras y accionables para el d√≠a a d√≠a","M√©tricas de desempe√±o y KPIs operativos","Planes de acci√≥n y hojas de ruta estrat√©gicas"],correct:1},
            {id:19,module:"c2",category:"Engineering",question:"Para el √°rea de Engineering, cada proyecto debe estar alineado con la ley y tambi√©n con:",options:["Los est√°ndares t√©cnicos de la industria","El marco de control interno del Grupo","Las mejores pr√°cticas de desarrollo √°gil","Los requisitos de calidad del producto"],correct:1},
            {id:20,module:"c2",category:"Site Regulaci√≥n",question:"El sitio oficial donde se puede consultar el contenido de todas las normativas internas es:",options:["portal-normativo.bbva.com","bbva-regulacion-interna.appspot.com","normativas.bbva.mx","compliance.bbva.net"],correct:1},
            {id:21,module:"c2",category:"Fuente Verdad",question:"El portal de regulaci√≥n interna es la fuente √∫nica de verdad para:",options:["Las m√©tricas de cumplimiento regulatorio","Todo el cuerpo normativo interno","Los reportes de auditor√≠a y control","La documentaci√≥n t√©cnica de sistemas"],correct:1},
            {id:22,module:"c2",category:"Obligado Cumplimiento",question:"Las Pol√≠ticas, Normas y Procedimientos internos son de obligado cumplimiento para:",options:["Los equipos de primera y segunda l√≠nea de defensa","Todos los colaboradores","El personal con acceso a sistemas cr√≠ticos","Los responsables de procesos regulados"],correct:1},
            {id:23,module:"c2",category:"Versi√≥n Actualizada",question:"El portal de regulaci√≥n interna asegura que los equipos trabajen con:",options:["Las versiones aprobadas por auditor√≠a externa","La versi√≥n m√°s reciente de las pol√≠ticas y procedimientos","Las versiones validadas por el comit√© de riesgos","La documentaci√≥n certificada por cumplimiento"],correct:1},
            {id:24,module:"c2",category:"BBVA Grupo",question:"BBVA como grupo financiero global no solo cumple regulaciones externas sino que tambi√©n:",options:["Implementa est√°ndares internacionales voluntarios","Establece un marco de actuaci√≥n interno","Adopta certificaciones de calidad reconocidas","Define protocolos de mejora continua"],correct:1},
            {id:25,module:"c2",category:"Est√°ndares Conducta",question:"Las normas internas describen est√°ndares de conducta, criterios y procesos de:",options:["Recomendaci√≥n preferente","Obligado cumplimiento","Aplicaci√≥n discrecional","Adopci√≥n progresiva"],correct:1},

            // ========== CAP√çTULO 3: RESILIENCIA Y MARCO NORMATIVO (160 preguntas) ==========
            {id:26,module:"c3",category:"Resiliencia Digital",question:"La Resiliencia Operativa Digital nos exige fortalecer nuestra capacidad para:",options:["Prevenir, detectar y mitigar cualquier amenaza cibern√©tica","Resistir, responder y recuperarnos de cualquier incidente tecnol√≥gico","Identificar, evaluar y gestionar cualquier riesgo operacional","Monitorear, alertar y escalar cualquier evento de seguridad"],correct:1},
            {id:27,module:"c3",category:"Objetivo Resiliencia",question:"El objetivo de la resiliencia es asegurar que el banco siga funcionando para los clientes sin importar:",options:["Los cambios regulatorios que impacten nuestras operaciones","Las amenazas digitales que enfrentemos, desde ciberataques hasta fallos de software","Las disrupciones del mercado que afecten nuestra competitividad","Los desaf√≠os operativos que surjan en nuestros procesos"],correct:1},
            {id:28,module:"c3",category:"Modelo Gobierno",question:"El 'Modelo de Gobierno de Engineering' es considerado la norma fundacional o:",options:["El 'reglamento' principal del √°rea de Tecnolog√≠a","La 'constituci√≥n' de todo el equipo de Ingenier√≠a","El 'estatuto' fundamental de desarrollo de sistemas","El 'c√≥digo' rector de las operaciones t√©cnicas"],correct:1},
            {id:29,module:"c3",category:"Origen Normas",question:"Del Modelo de Gobierno de Engineering emanan todas las normativas espec√≠ficas como:",options:["Arquitectura, infraestructura, operaciones, etc.","Seguridad, testing, SDLC, etc.","Gesti√≥n de proyectos, metodolog√≠as, herramientas, etc.","Calidad, documentaci√≥n, capacitaci√≥n, etc."],correct:1},
            {id:30,module:"c3",category:"Prop√≥sito Modelo",question:"El prop√≥sito del Modelo de Gobierno es establecer un marco de gobernanza para asegurar que el software se desarrolle de manera:",options:["√Ågil, escalable y mantenible","Coherente, segura y eficiente","Documentada, trazable y auditable","Modular, reutilizable y portable"],correct:1},
            {id:31,module:"c3",category:"Norma Gobierno",question:"La Norma del Modelo de Gobierno de Engineering define qui√©n toma las decisiones, c√≥mo se estructuran los equipos y:",options:["Establece los est√°ndares t√©cnicos m√≠nimos","Da origen a todo el cuerpo normativo","Define las m√©tricas de desempe√±o del √°rea","Determina los procesos de escalamiento"],correct:1},
            {id:32,module:"c3",category:"Alcance Gobierno",question:"El alcance de la Norma del Modelo de Gobierno es:",options:["Espec√≠fico, se aplica a proyectos cr√≠ticos y sistemas regulados","Universal, se aplica a todas las personas, procesos y tecnolog√≠as dentro de Engineering","Gradual, se implementa seg√∫n la madurez de cada equipo","Selectivo, depende de la clasificaci√≥n del sistema"],correct:1},
            {id:33,module:"c3",category:"Estructura Organizativa",question:"El principio de Estructura Organizativa y Roles define claramente:",options:["C√≥mo se asignan los recursos a proyectos","Qui√©n es responsable de qu√©","Cu√°les son los niveles de autorizaci√≥n","D√≥nde se documentan las actividades"],correct:1},
            {id:34,module:"c3",category:"Direcciones",question:"El Modelo de Gobierno establece las diferentes Direcciones (como Information Security o Systems) y les asigna:",options:["Los recursos t√©cnicos y humanos necesarios para operar","La propiedad de las normativas espec√≠ficas que deben desarrollar y mantener","Las m√©tricas y KPIs que deben reportar peri√≥dicamente","Los proyectos estrat√©gicos que deben ejecutar"],correct:1},
            {id:35,module:"c3",category:"Beneficio Claridad",question:"Gracias al Modelo de Gobierno, sabes exactamente a qu√© √°rea acudir para una consulta de seguridad o:",options:["Una solicitud de recursos de infraestructura","Una validaci√≥n de arquitectura o la aprobaci√≥n de un despliegue","Una revisi√≥n de calidad de c√≥digo fuente","Una definici√≥n de requisitos funcionales"],correct:1},
            {id:36,module:"c3",category:"Cuerpo Normativo",question:"El Modelo de Gobierno establece el proceso formal para crear, revisar y actualizar las normativas para que:",options:["Sean consistentes con las regulaciones externas vigentes","No queden obsoletas y se adapten a nuevas tecnolog√≠as y riesgos","Mantengan alineaci√≥n con los objetivos estrat√©gicos del banco","Cumplan con los est√°ndares de documentaci√≥n corporativa"],correct:1},
            {id:37,module:"c3",category:"Gobernanza Resiliencia",question:"El Modelo de Gobierno establece la estructura de responsabilidades y la rendici√≥n de cuentas (accountability) para demostrar que:",options:["Cumplimos con las auditor√≠as de forma satisfactoria","Gestionamos los riesgos de forma organizada y proactiva","Mantenemos la documentaci√≥n actualizada y completa","Seguimos los procesos establecidos correctamente"],correct:1},
            {id:38,module:"c3",category:"Enfoque Integral",question:"El Modelo de Gobierno asegura que todos los aspectos de la Resiliencia (seguridad, pruebas, continuidad) sean atendidos:",options:["Seg√∫n su nivel de criticidad y prioridad","De forma coordinada y no como esfuerzos aislados","Con base en los recursos disponibles asignados","Conforme a los cronogramas establecidos"],correct:1},
            {id:39,module:"c3",category:"Gesti√≥n Riesgos TIC",question:"La Norma de Gesti√≥n de Riesgos TIC establece el marco de auto-evaluaci√≥n y aseguramiento para:",options:["Nuestros sistemas en producci√≥n","Nuestros procesos de desarrollo","Nuestra infraestructura tecnol√≥gica","Nuestras aplicaciones cr√≠ticas"],correct:1},
            {id:40,module:"c3",category:"Objetivo Riesgos TIC",question:"El objetivo de la Norma de Gesti√≥n de Riesgos TIC es verificar que los controles definidos en el resto de las normativas:",options:["Est√°n correctamente documentados y aprobados","Se est√°n cumpliendo de manera efectiva en el d√≠a a d√≠a","Han sido comunicados a todos los involucrados","Fueron implementados seg√∫n las especificaciones"],correct:1},
            {id:41,module:"c3",category:"Auditor√≠a Interna",question:"La Norma de Gesti√≥n de Riesgos TIC funciona como el proceso de 'auditor√≠a interna' que realizamos nosotros mismos para:",options:["Preparar la documentaci√≥n para las revisiones externas","Identificar debilidades y oportunidades de mejora antes de que lo haga un auditor externo","Validar que los controles est√°n correctamente dise√±ados","Generar los reportes de cumplimiento requeridos"],correct:1},
            {id:42,module:"c3",category:"Key Controls",question:"El primer paso del proceso de control interno es identificar, para cada fase del SDLC, los:",options:["Riesgos principales (Key Risks) que deben ser monitoreados","Controles clave (Key Controls) que mitigan los riesgos principales","Indicadores clave (Key Indicators) que miden el desempe√±o","Entregables clave (Key Deliverables) que deben completarse"],correct:1},
            {id:43,module:"c3",category:"Ejemplo Control",question:"Un ejemplo de control clave en la fase de desarrollo es:",options:["La revisi√≥n de c√≥digo por pares (peer review)","La ejecuci√≥n de un escaneo SAST","La validaci√≥n de requisitos funcionales","La aprobaci√≥n del dise√±o t√©cnico"],correct:1},
            {id:44,module:"c3",category:"Pruebas Dise√±o",question:"Las Pruebas de Dise√±o (TOD) validan que el control est√°:",options:["Correctamente implementado","Bien dise√±ado","Adecuadamente documentado","Debidamente autorizado"],correct:1},
            {id:45,module:"c3",category:"Pruebas Eficacia",question:"Las Pruebas de Eficacia Operativa (TOE) validan que el control se est√° ejecutando:",options:["Seg√∫n lo especificado en la normativa","De forma consistente en la pr√°ctica","Con la frecuencia establecida","Por el personal autorizado"],correct:1},
            {id:46,module:"c3",category:"Evidencia Solicitud",question:"Peri√≥dicamente, se te podr√≠a solicitar proporcionar evidencia de que has cumplido con un control, como:",options:["El acta de aprobaci√≥n del comit√© de cambios para la liberaci√≥n Y","El reporte de la herramienta SAST para el despliegue X","La minuta de la reuni√≥n de revisi√≥n de c√≥digo del proyecto Z","El formulario de validaci√≥n de requisitos del sprint W"],correct:1},
            {id:47,module:"c3",category:"Deficiencia Gap",question:"Si durante las pruebas se encuentra que un control no se est√° aplicando correctamente, se documenta como:",options:["Una 'observaci√≥n' o 'hallazgo'","Una 'deficiencia' o 'gap'","Una 'no conformidad' o 'desviaci√≥n'","Una 'incidencia' o 'excepci√≥n'"],correct:1},
            {id:48,module:"c3",category:"Plan Acci√≥n Gap",question:"A cada Gap se le asigna un responsable y se establece un plan de acci√≥n con:",options:["Recursos asignados para su implementaci√≥n","Fechas compromiso para su correcci√≥n","M√©tricas de seguimiento para su monitoreo","Criterios de aceptaci√≥n para su cierre"],correct:1},
            {id:49,module:"c3",category:"Aseguramiento Continuo",question:"La Norma de Gesti√≥n de Riesgos TIC asegura que nuestros controles no se degraden con el tiempo y que:",options:["Se actualicen conforme a nuevas regulaciones","Sigan siendo eficaces","Se documenten adecuadamente","Se comuniquen a los equipos"],correct:1},
            {id:50,module:"c3",category:"Riesgo Terceros",question:"La Norma de Gesti√≥n del Riesgo TIC de Terceros establece el marco para gestionar el riesgo asociado a:",options:["Las aplicaciones desarrolladas externamente","Todos los proveedores tecnol√≥gicos con los que trabajamos","Los servicios de nube contratados","Las integraciones con sistemas externos"],correct:1},
            {id:51,module:"c3",category:"An√°lisis Riesgo Proveedor",question:"La decisi√≥n de contratar a un tercero debe basarse en:",options:["Una evaluaci√≥n de capacidades t√©cnicas y financieras","Un an√°lisis de riesgo completo","Una revisi√≥n de referencias y experiencia previa","Una comparaci√≥n de propuestas y costos"],correct:1},
            {id:52,module:"c3",category:"Clasificaci√≥n Servicio",question:"Antes de contratar, el servicio que va a prestar el proveedor se clasifica seg√∫n su:",options:["Complejidad t√©cnica y el volumen de transacciones","Criticidad y el tipo de datos a los que acceder√°","Costo total y el tiempo de implementaci√≥n","Alcance geogr√°fico y el n√∫mero de usuarios"],correct:1},
            {id:53,module:"c3",category:"Due Diligence",question:"El proceso de 'due diligence' o evaluaci√≥n antes de contratar revisa capacidades t√©cnicas, financieras y:",options:["Referencias comerciales","Controles de seguridad","Certificaciones de calidad","Experiencia en el sector"],correct:1},
            {id:54,module:"c3",category:"Homologaci√≥n",question:"No puedes empezar a trabajar con un proveedor hasta que haya superado el proceso de:",options:["Certificaci√≥n","Homologaci√≥n","Validaci√≥n","Acreditaci√≥n"],correct:1},
            {id:55,module:"c3",category:"Impacto Tiempos",question:"El proceso de homologaci√≥n de proveedores puede impactar los tiempos de tu proyecto, por lo que debe:",options:["Ejecutarse en paralelo con el desarrollo","Planificarse con antelaci√≥n","Simplificarse para proveedores conocidos","Delegarse al √°rea de compras"],correct:1},
            {id:56,module:"c3",category:"Cadena Suministro",question:"Muchos ciberataques graves se originan en la cadena de suministro, es decir:",options:["Una vulnerabilidad en software de terceros","Un proveedor comprometido","Una dependencia de c√≥digo abierto maliciosa","Un servicio de nube mal configurado"],correct:1},
            {id:57,module:"c3",category:"Supervisi√≥n Continua",question:"La Norma de Gesti√≥n del Ciclo de Vida de Servicios de Terceros trata sobre c√≥mo asegurarnos de que los proveedores:",options:["Mantengan sus certificaciones vigentes","Sigan siendo confiables a lo largo del tiempo","Cumplan con los t√©rminos contractuales","Actualicen sus tecnolog√≠as peri√≥dicamente"],correct:1},
            {id:58,module:"c3",category:"SLAs",question:"Se debe monitorear de forma continua que el proveedor est√° cumpliendo con los Acuerdos de Nivel de Servicio:",options:["KPIs establecidos en el marco de gobernanza","SLAs definidos en el contrato","OLAs acordados entre las √°reas t√©cnicas","M√©tricas de desempe√±o del servicio"],correct:1},
            {id:59,module:"c3",category:"Reporte Incumplimiento",question:"Como responsable t√©cnico del servicio, debes reportar cualquier incumplimiento de SLA por parte del proveedor a trav√©s de:",options:["El sistema de gesti√≥n de proveedores","Los canales formales","El comit√© de seguimiento contractual","La herramienta de ticketing"],correct:1},
            {id:60,module:"c3",category:"Revisiones Seguridad",question:"El proveedor debe someterse a revisiones de seguridad peri√≥dicas, cuya frecuencia depende de su:",options:["Volumen de transacciones procesadas","Nivel de riesgo","Tipo de contrato establecido","Antig√ºedad de la relaci√≥n comercial"],correct:1},
            {id:61,module:"c3",category:"Incidente Tercero",question:"El proveedor tiene la obligaci√≥n contractual de notificar a BBVA en caso de sufrir:",options:["Un cambio significativo en su estructura organizacional","Un incidente de seguridad que pueda afectarnos","Una modificaci√≥n en sus pol√≠ticas de privacidad","Una actualizaci√≥n importante en sus sistemas"],correct:1},
            {id:62,module:"c3",category:"Seguridad Informaci√≥n",question:"La Norma de Seguridad de la Informaci√≥n establece los principios y directrices fundamentales para proteger:",options:["Los activos tecnol√≥gicos cr√≠ticos del banco","La informaci√≥n de la organizaci√≥n en todas sus formas","Los sistemas de informaci√≥n y comunicaciones","La infraestructura de TI y sus componentes"],correct:1},
            {id:63,module:"c3",category:"Responsabilidad Compartida",question:"La Norma de Seguridad de la Informaci√≥n establece que la seguridad es responsabilidad de:",options:["Los equipos de seguridad y cumplimiento","Cada persona que trabaja en el banco","Los propietarios de los activos de informaci√≥n","Los administradores de sistemas y aplicaciones"],correct:1},
            {id:64,module:"c3",category:"Protecci√≥n Basada Riesgo",question:"Los controles de seguridad deben ser proporcionales al valor del activo y al:",options:["Costo de implementaci√≥n del control","Nivel de riesgo al que est√° expuesto","Requisito regulatorio aplicable","Impacto potencial en el negocio"],correct:1},
            {id:65,module:"c3",category:"Cultura Seguridad",question:"La Norma de Seguridad de la Informaci√≥n fomenta una mentalidad consciente del riesgo en:",options:["Los equipos t√©cnicos y operativos","Toda la organizaci√≥n","Las √°reas de primera l√≠nea de defensa","El personal con acceso a informaci√≥n sensible"],correct:1},
            {id:66,module:"c3",category:"Confidencialidad",question:"La Norma de Tratamiento de la Informaci√≥n seg√∫n Confidencialidad protege los datos contra:",options:["La p√©rdida, corrupci√≥n o destrucci√≥n no planificada","El acceso, la divulgaci√≥n o la manipulaci√≥n no autorizados","La modificaci√≥n, alteraci√≥n o falsificaci√≥n indebida","El uso indebido, abuso o explotaci√≥n malintencionada"],correct:1},
            {id:67,module:"c3",category:"Ciclo Vida Informaci√≥n",question:"La norma de confidencialidad cubre todo el ciclo de vida de la informaci√≥n, desde su creaci√≥n hasta su:",options:["Clasificaci√≥n, procesamiento y archivo","Almacenamiento, uso, transmisi√≥n y destrucci√≥n","Captura, transformaci√≥n y distribuci√≥n","Validaci√≥n, consolidaci√≥n y respaldo"],correct:1},
            {id:68,module:"c3",category:"Clasificaci√≥n Informaci√≥n",question:"El primer paso es clasificar la informaci√≥n seg√∫n su nivel de sensibilidad como p√∫blicos, internos, confidenciales o:",options:["Restringidos","Secretos","Reservados","Cr√≠ticos"],correct:1},
            {id:69,module:"c3",category:"Tres Estados",question:"La norma exige la protecci√≥n de los datos en cualquier estado: en tr√°nsito, en reposo y:",options:["En procesamiento (siendo transformados)","En uso (siendo procesados activamente)","En memoria (siendo accedidos temporalmente)","En cach√© (siendo almacenados temporalmente)"],correct:1},
            {id:70,module:"c3",category:"Cifrado TLS",question:"Para los datos en tr√°nsito debes implementar cifrado de extremo a extremo como:",options:["SSL","TLS","SSH","HTTPS"],correct:1},
            {id:71,module:"c3",category:"Destrucci√≥n Segura",question:"Cuando los datos ya no son necesarios, se deben eliminar de manera segura incluyendo:",options:["El formateo de medios y la eliminaci√≥n de registros","La destrucci√≥n criptogr√°fica de claves y la sobreescritura de datos","La desactivaci√≥n de accesos y la purga de sistemas","El borrado certificado y la disposici√≥n de hardware"],correct:1},
            {id:72,module:"c3",category:"Tokenizaci√≥n",question:"La tokenizaci√≥n y la pseudonimizaci√≥n protegen los datos sensibles para que puedan usarse con fines de prueba o an√°lisis sin:",options:["Violar las pol√≠ticas de privacidad","Exponer la informaci√≥n real","Incumplir las regulaciones de datos","Comprometer la seguridad del sistema"],correct:1},
            {id:73,module:"c3",category:"Control Acceso",question:"La Norma de Gesti√≥n de Identidades y Control de Acceso decide qui√©n puede entrar y qu√© puede hacer dentro de:",options:["Las aplicaciones cr√≠ticas del banco","Los sistemas de BBVA","La infraestructura tecnol√≥gica","Las bases de datos corporativas"],correct:1},
            {id:74,module:"c3",category:"M√≠nimo Privilegio",question:"El principio de m√≠nimo privilegio establece que a un usuario solo se le deben dar los permisos:",options:["Necesarios seg√∫n su perfil de riesgo","M√≠nimos e indispensables para realizar su funci√≥n","Autorizados por su supervisor directo","Definidos en la matriz de roles"],correct:1},
            {id:75,module:"c3",category:"Denegar Default",question:"Seg√∫n la norma de control de acceso, se debe:",options:["Aprobar accesos con justificaci√≥n v√°lida","Denegar todo por defecto","Revisar accesos peri√≥dicamente","Auditar cambios de permisos"],correct:1},
            {id:76,module:"c3",category:"RBAC",question:"Debes dise√±ar tu aplicaci√≥n con un modelo de roles y permisos muy granular conocido como:",options:["PBAC (Policy-Based Access Control)","RBAC (Role-Based Access Control)","ABAC (Attribute-Based Access Control)","DAC (Discretionary Access Control)"],correct:1},
            {id:77,module:"c3",category:"MFA",question:"La autenticaci√≥n debe ser robusta, integrando el Multi-Factor conocido como:",options:["2FA","MFA","SSO","OTP"],correct:1},
            {id:78,module:"c3",category:"Segregaci√≥n Funciones",question:"La Segregaci√≥n de Funciones es un control para prevenir fraudes, asegurando que una √∫nica persona no pueda realizar:",options:["M√∫ltiples transacciones de alto valor","Todas las partes cr√≠ticas de una operaci√≥n","Cambios sin la debida supervisi√≥n","Acciones fuera de su √°rea de responsabilidad"],correct:1},
            {id:79,module:"c3",category:"Cuatro Ojos",question:"Si manejas operaciones sensibles, debes implementar un mecanismo de doble aprobaci√≥n conocido como:",options:["'Doble control'","'Cuatro ojos'","'Doble firma'","'Aprobaci√≥n dual'"],correct:1},
            {id:80,module:"c3",category:"Contenci√≥n Incidente",question:"Si la cuenta de un usuario es comprometida, el principio de m√≠nimo privilegio limita dr√°sticamente:",options:["El tiempo de respuesta al incidente","El da√±o que el atacante puede hacer","La propagaci√≥n del malware","El acceso a sistemas adicionales"],correct:1},
            {id:81,module:"c3",category:"Trazabilidad",question:"La norma exige que todas las acciones queden registradas para:",options:["Cumplir con los requisitos de auditor√≠a y generar reportes","Investigar un incidente, entender qu√© pas√≥ y recuperarse r√°pidamente","Monitorear el desempe√±o de los usuarios y optimizar procesos","Detectar comportamientos an√≥malos y generar alertas"],correct:1},
            {id:82,module:"c3",category:"Factor Humano",question:"La Norma de Seguridad Relativa a Recursos Humanos se enfoca en gestionar el riesgo de seguridad asociado al:",options:["Ciclo de vida del empleado","Factor humano","Comportamiento organizacional","Personal con acceso privilegiado"],correct:1},
            {id:83,module:"c3",category:"Primera L√≠nea Defensa",question:"Las personas son consideradas la primera l√≠nea de defensa y deben estar:",options:["Equipadas con herramientas de seguridad adecuadas","Concienciadas, capacitadas y sujetas a controles","Monitoreadas en sus actividades de forma continua","Evaluadas en su cumplimiento de pol√≠ticas"],correct:1},
            {id:84,module:"c3",category:"Formaci√≥n Continua",question:"Todos los empleados deben realizar cursos de formaci√≥n en seguridad de forma:",options:["Anual seg√∫n el calendario corporativo","Peri√≥dica para estar al d√≠a de las √∫ltimas amenazas y pol√≠ticas","Inicial al incorporarse a la organizaci√≥n","Espec√≠fica seg√∫n su rol y responsabilidades"],correct:1},
            {id:85,module:"c3",category:"Revocaci√≥n Accesos",question:"Los accesos se deben revocar de forma inmediata en el momento de:",options:["La notificaci√≥n de salida del empleado","La baja del empleado","La finalizaci√≥n del contrato laboral","La √∫ltima jornada de trabajo"],correct:1},
            {id:86,module:"c3",category:"Notificar Cambios",question:"Debes notificar a los responsables cuando un miembro de tu equipo cambia de funci√≥n o deja el banco para asegurar que sus accesos a sistemas sean:",options:["Actualizados seg√∫n sus nuevas responsabilidades","Revocados a tiempo","Revisados por el √°rea de seguridad","Documentados en el sistema de identidades"],correct:1},
            {id:87,module:"c3",category:"Ingenier√≠a Social",question:"Una plantilla concienciada y formada es la mejor defensa contra ataques de phishing, vishing y otras t√©cnicas de:",options:["Suplantaci√≥n de identidad","Ingenier√≠a social","Manipulaci√≥n psicol√≥gica","Fraude electr√≥nico"],correct:1},
            {id:88,module:"c3",category:"Gesti√≥n Incidentes",question:"La Norma de Gesti√≥n de Incidentes de Seguridad define el plan de acci√≥n a seguir cuando ocurre:",options:["Una vulnerabilidad cr√≠tica en producci√≥n","Un incidente de seguridad","Una brecha de datos personales","Un ataque cibern√©tico confirmado"],correct:1},
            {id:89,module:"c3",category:"CSIRT",question:"El equipo de respuesta a incidentes se conoce como:",options:["SOC/NOC","CSIRT/CERT","SIRT/CIRT","IR Team"],correct:1},
            {id:90,module:"c3",category:"Reporte Sospecha",question:"Si detectas cualquier comportamiento an√≥malo en tu aplicaci√≥n, tienes la obligaci√≥n de:",options:["Documentarlo en el sistema de seguimiento de incidencias","Reportarlo inmediatamente a trav√©s de los canales designados","Analizarlo para determinar si es un falso positivo","Comunicarlo a tu supervisor directo"],correct:1},
            {id:91,module:"c3",category:"War Room",question:"Si un incidente afecta a tu aplicaci√≥n, puedes ser requerido para participar en el:",options:["Comit√© de crisis de seguridad","'War room' de la crisis","Centro de operaciones de emergencia","Equipo de respuesta r√°pida"],correct:1},
            {id:92,module:"c3",category:"Causa Ra√≠z",question:"Durante un incidente, deber√°s proporcionar an√°lisis t√©cnico, ayudar a buscar la causa ra√≠z y colaborar en:",options:["La contenci√≥n del incidente y la comunicaci√≥n a stakeholders","El desarrollo y despliegue de una soluci√≥n de emergencia","La documentaci√≥n del incidente y las lecciones aprendidas","La evaluaci√≥n del impacto y la notificaci√≥n a reguladores"],correct:1},
            {id:93,module:"c3",category:"Minimizaci√≥n Impacto",question:"Una respuesta r√°pida y eficaz puede ser la diferencia entre un problema menor y:",options:["Un incidente reportable a reguladores","Una crisis a gran escala","Una brecha de seguridad significativa","Un evento de continuidad de negocio"],correct:1},
            {id:94,module:"c3",category:"CIDA",question:"CIDA significa Confidencialidad, Integridad, Disponibilidad y:",options:["Accountability","Autenticidad","Auditabilidad","Autorizaci√≥n"],correct:1},
            {id:95,module:"c3",category:"Evaluaci√≥n CIDA",question:"La criticidad de un activo se determina evaluando el impacto si se viera comprometida su:",options:["Seguridad, privacidad, cumplimiento y reputaci√≥n","Confidencialidad, Integridad, Disponibilidad y Autenticidad","Funcionalidad, rendimiento, escalabilidad y mantenibilidad","Operaci√≥n, servicio, informaci√≥n y tecnolog√≠a"],correct:1},
            {id:96,module:"c3",category:"Clasificaci√≥n Criticidad",question:"Bas√°ndose en el an√°lisis CIDA, cada activo recibe una calificaci√≥n final de criticidad:",options:["Cr√≠tico, Importante, Normal, Bajo","Alto, Medio, Bajo","Nivel 1, Nivel 2, Nivel 3, Nivel 4","Tier 1, Tier 2, Tier 3"],correct:1},
            {id:97,module:"c3",category:"CMDB Registro",question:"Cuando registras una nueva aplicaci√≥n en la CMDB, debes realizar este an√°lisis:",options:["BIA","CIDA","RCA","PIA"],correct:1},
            {id:98,module:"c3",category:"Requisitos Estrictos",question:"Una aplicaci√≥n clasificada como 'Alta' estar√° sujeta a requisitos de seguridad, pruebas y disponibilidad:",options:["Espec√≠ficos para su tipo de servicio","Mucho m√°s estrictos","Definidos por el negocio","Acordados con el regulador"],correct:1},
            {id:99,module:"c3",category:"Seguridad Redes",question:"La Norma de Seguridad en Redes de Comunicaciones protege el per√≠metro de nuestras redes y controla:",options:["Los accesos remotos a la infraestructura","El tr√°fico que fluye entre ellas","Las conexiones con terceros y proveedores","Los puntos de entrada a sistemas cr√≠ticos"],correct:1},
            {id:100,module:"c3",category:"Segmentaci√≥n",question:"La norma exige dividir nuestra infraestructura en zonas de seguridad como zona de producci√≥n, zona de desarrollo y:",options:["Zona de pruebas","Zona desmilitarizada","Zona de contingencia","Zona de integraci√≥n"],correct:1},
            {id:101,module:"c3",category:"Denegar Defecto Red",question:"El acceso a la red se basa en el principio de:",options:["M√≠nimo privilegio necesario","Denegar por defecto","Acceso controlado y auditado","Segmentaci√≥n por funci√≥n"],correct:1},
            {id:102,module:"c3",category:"Reglas Firewall",question:"Cuando despliegas una nueva API, es tu responsabilidad definir y solicitar las reglas de:",options:["Seguridad perimetral necesarias","Firewall necesarias","Control de acceso requeridas","Filtrado de tr√°fico apropiadas"],correct:1},
            {id:103,module:"c3",category:"Movimiento Lateral",question:"La segmentaci√≥n dificulta que un atacante pueda moverse lateralmente para atacar sistemas cr√≠ticos en:",options:["La misma red","Otras zonas","El mismo segmento","Subredes adyacentes"],correct:1},
            {id:104,module:"c3",category:"Criptograf√≠a",question:"La Norma de Criptograf√≠a establece las reglas para el uso adecuado de tecnolog√≠as criptogr√°ficas para asegurar:",options:["La autenticaci√≥n y el no repudio de las transacciones","La confidencialidad y la integridad de los datos","La privacidad y la protecci√≥n de datos personales","El cifrado y la firma de comunicaciones"],correct:1},
            {id:105,module:"c3",category:"Algoritmos Aprobados",question:"La norma especifica qu√© algoritmos de cifrado (como AES-256) y de hash (como SHA-256) est√°n:",options:["Recomendados para uso general","Aprobados para su uso","Certificados por reguladores","Validados por auditor√≠a"],correct:1},
            {id:106,module:"c3",category:"Librer√≠as Aprobadas",question:"Debes usar exclusivamente las bibliotecas de criptograf√≠a:",options:["Certificadas por el fabricante","Aprobadas por el banco","De c√≥digo abierto auditadas","Recomendadas por la industria"],correct:1},
            {id:107,module:"c3",category:"Prohibido Crear Cripto",question:"Est√° estrictamente prohibido crear implementaciones criptogr√°ficas personalizadas porque es una fuente com√∫n de:",options:["Problemas de compatibilidad","Vulnerabilidades graves","Errores de rendimiento","Incumplimientos normativos"],correct:1},
            {id:108,module:"c3",category:"Gesti√≥n Claves",question:"Las claves criptogr√°ficas deben gestionarse con el sistema centralizado del banco y nunca almacenarse en:",options:["Servidores de desarrollo o entornos de prueba","El c√≥digo o en archivos de configuraci√≥n","Repositorios compartidos o documentaci√≥n t√©cnica","Sistemas locales o dispositivos personales"],correct:1},
            {id:109,module:"c3",category:"Rotaci√≥n Claves",question:"Las claves de cifrado deben rotarse:",options:["Cuando se detecta un compromiso","Peri√≥dicamente","Al cambiar de proveedor de servicios","Seg√∫n las recomendaciones del fabricante"],correct:1},
            {id:110,module:"c3",category:"Hardening",question:"El 'hardening' consiste en reducir la superficie de ataque de un sistema eliminando software, servicios y configuraciones:",options:["No autorizadas o inseguras","Innecesarias y peligrosas","Obsoletas o desactualizadas","Predeterminadas o por defecto"],correct:1},
            {id:111,module:"c3",category:"Minimizaci√≥n Servicios",question:"Solo deben estar instalados y en ejecuci√≥n los servicios y software:",options:["Autorizados por seguridad","Estrictamente necesarios para la funci√≥n del sistema","Validados por arquitectura","Aprobados en la l√≠nea base"],correct:1},
            {id:112,module:"c3",category:"Golden Images",question:"Los nuevos servidores deben ser desplegados a partir de 'im√°genes maestras' conocidas como:",options:["Base Images","Golden Images","Standard Images","Template Images"],correct:1},
            {id:113,module:"c3",category:"Entornos Similares",question:"Debes usar las im√°genes corporativas para tus entornos de desarrollo y pruebas para asegurar que trabajas en un entorno lo m√°s parecido posible a:",options:["El est√°ndar corporativo","Producci√≥n","La configuraci√≥n de referencia","Los requisitos de seguridad"],correct:1},
            {id:114,module:"c3",category:"Dependencias Expl√≠citas",question:"No puedes asumir que una librer√≠a estar√° disponible en producci√≥n. Debes declarar todas tus dependencias:",options:["En el documento de dise√±o t√©cnico","Expl√≠citamente","En el manifiesto de la aplicaci√≥n","Durante la fase de construcci√≥n"],correct:1},
            {id:115,module:"c3",category:"Monitorizaci√≥n Seguridad",question:"La Norma de Monitorizaci√≥n de Seguridad define qu√© eventos deben ser registrados (logging) y c√≥mo deben ser:",options:["Almacenados y retenidos seg√∫n pol√≠ticas de retenci√≥n","Recolectados y analizados de forma centralizada (monitoring)","Clasificados y priorizados seg√∫n su severidad","Correlacionados y alertados mediante reglas definidas"],correct:1},
            {id:116,module:"c3",category:"SIEM",question:"Los logs de m√∫ltiples fuentes se env√≠an a un sistema central de gesti√≥n de eventos de seguridad conocido como:",options:["SOC","SIEM","SOAR","XDR"],correct:1},
            {id:117,module:"c3",category:"Logs Calidad",question:"Eres el principal responsable de que tu aplicaci√≥n genere logs de:",options:["Seguridad con el formato est√°ndar corporativo","Alta calidad con suficiente detalle (qui√©n, qu√©, cu√°ndo, c√≥mo)","Auditor√≠a para cumplimiento regulatorio","Trazabilidad de todas las transacciones"],correct:1},
            {id:118,module:"c3",category:"Datos Sensibles Logs",question:"En los logs NO debes registrar:",options:["Informaci√≥n de depuraci√≥n","Datos sensibles","Mensajes de error detallados","Identificadores de sesi√≥n"],correct:1},
            {id:119,module:"c3",category:"Formato Log Est√°ndar",question:"Debes usar el formato de log est√°ndar para que pueda ser procesado correctamente por:",options:["Las herramientas de an√°lisis","La plataforma central","El equipo de operaciones","Los sistemas de monitoreo"],correct:1},
            {id:120,module:"c3",category:"Gesti√≥n Vulnerabilidades",question:"La Norma de Gesti√≥n de Vulnerabilidades establece un ciclo de vida para encontrar, evaluar y remediar las:",options:["Debilidades de seguridad en nuestros procesos","Vulnerabilidades en nuestras aplicaciones e infraestructura","Brechas de control en nuestros sistemas","Exposiciones de riesgo en nuestra tecnolog√≠a"],correct:1},
            {id:121,module:"c3",category:"Identificaci√≥n Proactiva",question:"La norma exige que busquemos activamente las debilidades a trav√©s de herramientas autom√°ticas y:",options:["An√°lisis de c√≥digo fuente","Pruebas manuales","Revisiones de arquitectura","Auditor√≠as de seguridad"],correct:1},
            {id:122,module:"c3",category:"Herramientas Escaneo",question:"El pipeline de CI/CD incluir√° herramientas que analizan tu c√≥digo y sus dependencias como SAST, DAST y:",options:["IAST","SCA","Fuzzing","Pen Testing"],correct:1},
            {id:123,module:"c3",category:"SLAs Remediaci√≥n",question:"La norma establece plazos m√°ximos (SLAs) para corregir vulnerabilidades basados en su:",options:["Impacto potencial en el negocio","Nivel de criticidad (Cr√≠tico, Alto, Medio, Bajo)","Facilidad de explotaci√≥n y exposici√≥n","Riesgo residual y controles compensatorios"],correct:1},
            {id:124,module:"c3",category:"Vulnerabilidad Cr√≠tica",question:"Si se detecta una vulnerabilidad cr√≠tica en tu aplicaci√≥n, su correcci√≥n se convierte en:",options:["Un incidente de seguridad que debe gestionarse","La m√°xima prioridad, por encima de nuevas funcionalidades","Una tarea urgente con escalamiento autom√°tico","Un hallazgo que debe reportarse al regulador"],correct:1},
            {id:125,module:"c3",category:"Continuidad Negocio",question:"La Norma de Continuidad de Negocio asegura que el banco pueda continuar operando sus procesos cr√≠ticos ante:",options:["Una interrupci√≥n prolongada de servicios tecnol√≥gicos","Un evento de desastre que inutilice instalaciones o sistemas principales","Una crisis que afecte la operaci√≥n normal del negocio","Una contingencia que impacte la disponibilidad de recursos"],correct:1},
            {id:126,module:"c3",category:"BIA",question:"El An√°lisis de Impacto en el Negocio se conoce como:",options:["RIA","BIA","CIA","PIA"],correct:1},
            {id:127,module:"c3",category:"RTO",question:"RTO significa Tiempo Objetivo de:",options:["Respuesta","Recuperaci√≥n","Restauraci√≥n","Reanudaci√≥n"],correct:1},
            {id:128,module:"c3",category:"RPO",question:"RPO significa Punto Objetivo de:",options:["Respaldo","Recuperaci√≥n","Restauraci√≥n","Reanudaci√≥n"],correct:1},
            {id:129,module:"c3",category:"Conocer RTO RPO",question:"Debes conocer el RTO y RPO de las aplicaciones en las que trabajas porque determinan:",options:["Los niveles de servicio comprometidos con el negocio","La arquitectura que debes implementar","Los controles de continuidad requeridos","La estrategia de respaldo a utilizar"],correct:1},
            {id:130,module:"c3",category:"Pruebas DR",question:"La norma exige la realizaci√≥n de simulacros y pruebas peri√≥dicas de recuperaci√≥n ante desastres para asegurar que:",options:["La documentaci√≥n de procedimientos est√° actualizada","Los planes funcionan y los equipos est√°n preparados","Los tiempos de recuperaci√≥n cumplen los SLAs","La infraestructura de respaldo est√° operativa"],correct:1},
            {id:131,module:"c3",category:"Participaci√≥n DR",question:"Participar√°s activamente en las pruebas de recuperaci√≥n siendo responsable de verificar que tu aplicaci√≥n:",options:["Cumple con los tiempos de RTO y RPO definidos","Se recupera correctamente en el entorno de pruebas de desastre","Mantiene la integridad de los datos despu√©s de la recuperaci√≥n","Funciona con la configuraci√≥n de contingencia"],correct:1},
            {id:132,module:"c3",category:"DRP",question:"Los planes de recuperaci√≥n de desastres se conocen como:",options:["BCP (Business Continuity Plan)","DRP (Disaster Recovery Plan)","IRP (Incident Response Plan)","CMP (Crisis Management Plan)"],correct:1},
            {id:133,module:"c3",category:"Runbooks DRP",question:"Cada aplicaci√≥n cr√≠tica debe tener un documento que detalle paso a paso el procedimiento de recuperaci√≥n conocido como:",options:["Playbook de contingencia","Runbook de DRP","Procedimiento operativo est√°ndar","Gu√≠a de recuperaci√≥n"],correct:1},
            {id:134,module:"c3",category:"Mantener Runbook",question:"Eres responsable de crear y, sobre todo, mantener actualizado el runbook de recuperaci√≥n de:",options:["Las aplicaciones cr√≠ticas de tu √°rea","Tu aplicaci√≥n","Los sistemas bajo tu responsabilidad","Los servicios que soportas"],correct:1},
            {id:135,module:"c3",category:"Cambio Arquitectura",question:"Si introduces un cambio en la arquitectura o en una dependencia, debes reflejarlo inmediatamente en:",options:["La documentaci√≥n t√©cnica del sistema","El plan de recuperaci√≥n","El registro de configuraci√≥n de la CMDB","El inventario de activos de informaci√≥n"],correct:1},
            {id:136,module:"c3",category:"DR Tests",question:"La norma exige la realizaci√≥n de pruebas peri√≥dicas de recuperaci√≥n conocidas como:",options:["BCP tests","DR tests","Failover tests","Recovery tests"],correct:1},
            {id:137,module:"c3",category:"CMDB",question:"La Base de Datos de Gesti√≥n de la Configuraci√≥n se conoce como:",options:["ITAM","CMDB","ITSM","ITIL"],correct:1},
            {id:138,module:"c3",category:"CI",question:"Todo componente de infraestructura registrado en la CMDB se conoce como √çtem de Configuraci√≥n o:",options:["CA","CI","CC","CR"],correct:1},
            {id:139,module:"c3",category:"Dependencias CMDB",question:"Debes asegurar que tu aplicaci√≥n y sus dependencias (bases de datos, APIs que consume) est√©n correctamente mapeadas en:",options:["El inventario de activos tecnol√≥gicos","La CMDB","El cat√°logo de servicios","El registro de aplicaciones"],correct:1},
            {id:140,module:"c3",category:"An√°lisis Impacto",question:"Antes de realizar un cambio, se debe usar la CMDB para analizar el:",options:["Riesgo asociado al cambio","Impacto potencial","Alcance de la modificaci√≥n","Costo del cambio"],correct:1},
            {id:141,module:"c3",category:"Backups",question:"La Norma de Gesti√≥n de Copias de Respaldo asegura que se realicen copias de seguridad de la informaci√≥n cr√≠tica de forma:",options:["Automatizada y con validaci√≥n de integridad","Peri√≥dica y que seamos capaces de restaurarlas de manera fiable","Consistente y conforme a la pol√≠tica de retenci√≥n","Segura y con almacenamiento fuera del sitio"],correct:1},
            {id:142,module:"c3",category:"Pol√≠tica Backups",question:"La frecuencia y el periodo de retenci√≥n de las copias se definen en funci√≥n de la criticidad de los datos y el:",options:["Requisito regulatorio aplicable","RPO definido por el negocio","Costo de almacenamiento disponible","SLA acordado con el cliente"],correct:1},
            {id:143,module:"c3",category:"Pruebas Restauraci√≥n",question:"La norma exige la ejecuci√≥n de pruebas de restauraci√≥n peri√≥dicas para validar la integridad y viabilidad de:",options:["Los procedimientos de recuperaci√≥n documentados","Las copias de seguridad","Los medios de almacenamiento utilizados","La infraestructura de respaldo"],correct:1},
            {id:144,module:"c3",category:"Ransomware",question:"En un ataque de ransomware, unos backups √≠ntegros y aislados pueden ser la √∫nica forma de recuperar la operaci√≥n sin:",options:["Perder datos cr√≠ticos del negocio","Ceder al chantaje del atacante","Sufrir un impacto operacional prolongado","Incurrir en costos de recuperaci√≥n excesivos"],correct:1},
            {id:145,module:"c3",category:"Gesti√≥n Incidencias",question:"La Norma de Gesti√≥n de Incidencias TI tiene como objetivo principal restaurar el servicio normal lo m√°s r√°pidamente posible cuando ocurre:",options:["Un fallo en la infraestructura tecnol√≥gica","Una interrupci√≥n no planificada","Un problema que afecta a m√∫ltiples usuarios","Una degradaci√≥n del rendimiento del sistema"],correct:1},
            {id:146,module:"c3",category:"Registro Incidencia",question:"Toda incidencia debe ser registrada en la herramienta de ticketing corporativa, clasificada y:",options:["Asignada al equipo de soporte correspondiente","Priorizada en funci√≥n de su impacto en el negocio","Documentada con el an√°lisis de causa ra√≠z","Comunicada a los usuarios afectados"],correct:1},
            {id:147,module:"c3",category:"Soporte N2 N3",question:"Cuando una incidencia es escalada a tu equipo, actuar√°s como soporte de nivel:",options:["1 o 2","2 o 3","3 o 4","1 o 3"],correct:1},
            {id:148,module:"c3",category:"Post Mortem",question:"Despu√©s de resolver una incidencia cr√≠tica, se debe realizar un an√°lisis post-mortem para identificar:",options:["Las oportunidades de mejora en el proceso de respuesta","La causa ra√≠z fundamental y acciones para prevenir su recurrencia","Los responsables del incidente y las lecciones aprendidas","El impacto total y las medidas de mitigaci√≥n implementadas"],correct:1},
            {id:149,module:"c3",category:"MTTR",question:"El objetivo del proceso de gesti√≥n de incidencias es minimizar el 'Mean Time To Recovery' o:",options:["Tiempo m√°ximo tolerable de interrupci√≥n","Tiempo medio de recuperaci√≥n","Tiempo m√≠nimo de restauraci√≥n","Tiempo objetivo de respuesta"],correct:1},
            {id:150,module:"c3",category:"Alta Disponibilidad",question:"La Norma de Alta Disponibilidad TI se enfoca en 'c√≥mo evitar la ca√≠da en primer lugar' ante fallos:",options:["Cr√≠ticos de componentes principales","Comunes de componentes individuales","Sist√©micos de la infraestructura","Previsibles en la operaci√≥n"],correct:1},
            {id:151,module:"c3",category:"SPOF",question:"Los dise√±os de alta disponibilidad buscan eliminar los puntos √∫nicos de fallo conocidos como:",options:["SPOC","SPOF","SPOT","SPON"],correct:1},
            {id:152,module:"c3",category:"Redundancia",question:"El principio fundamental de alta disponibilidad es que debe haber m√°s de un componente para realizar una funci√≥n cr√≠tica, esto se llama:",options:["Replicaci√≥n","Redundancia","Resiliencia","Respaldo"],correct:1},
            {id:153,module:"c3",category:"Stateless",question:"Tus aplicaciones deben ser 'stateless' (sin estado), gestionando la sesi√≥n del usuario en:",options:["Una base de datos distribuida","Un componente externo compartido","Un servicio de cach√© centralizado","Un almac√©n de sesiones persistente"],correct:1},
            {id:154,module:"c3",category:"Health Check",question:"Debes proporcionar un endpoint de chequeo de salud (ej. /health) que los balanceadores de carga puedan usar para saber si una instancia:",options:["Tiene capacidad disponible para nuevas solicitudes","Est√° funcionando correctamente y puede recibir tr√°fico","Responde dentro de los tiempos esperados","Mantiene conexi√≥n con sus dependencias"],correct:1},
            {id:155,module:"c3",category:"Pruebas Resiliencia",question:"La Norma de Pruebas de Resiliencia Operativa Digital valida de forma proactiva nuestra capacidad para resistir, responder y:",options:["Adaptarnos a condiciones adversas","Recuperarnos de escenarios disruptivos","Mitigar los impactos de incidentes","Mantener la operaci√≥n bajo estr√©s"],correct:1},
            {id:156,module:"c3",category:"Chaos Engineering",question:"Las pr√°cticas avanzadas de pruebas de resiliencia incluyen el Chaos Engineering que consiste en:",options:["Simular ataques de ciberseguridad en entornos aislados","Apagar servidores aleatoriamente (en entornos controlados) para ver c√≥mo reacciona el sistema","Inyectar latencia y errores en las comunicaciones entre servicios","Probar la recuperaci√≥n de desastres en el sitio secundario"],correct:1},
            {id:157,module:"c3",category:"Escenarios Amenaza",question:"Las pruebas de resiliencia deben simular escenarios de amenaza realistas como un ataque de ransomware o:",options:["Una falla masiva de la red de comunicaciones","La ca√≠da de un proveedor de nube","Una interrupci√≥n del suministro el√©ctrico","Un incidente de seguridad de datos"],correct:1},
            {id:158,module:"c3",category:"Circuit Breaker",question:"Despu√©s de pruebas de resiliencia, podr√≠as necesitar implementar patrones como timeouts, reintentos o:",options:["Fallback","Circuit breaker","Bulkhead","Rate limiting"],correct:1},
            {id:159,module:"c3",category:"Obsolescencia",question:"La Norma de Gesti√≥n de Obsolescencia gestiona proactivamente el ciclo de vida de la tecnolog√≠a para evitar los riesgos cuando el hardware o software se vuelven:",options:["Desactualizados","Obsoletos","Deprecados","Descontinuados"],correct:1},
            {id:160,module:"c3",category:"EoL EoS",question:"La norma exige mantener un inventario que incluya las fechas de fin de vida (EoL) y fin de soporte:",options:["Del hardware y software del fabricante","(EoS) publicadas por los fabricantes","De las versiones de productos utilizados","Seg√∫n el ciclo de vida del producto"],correct:1},
            {id:161,module:"c3",category:"LTS",question:"Al dise√±ar una aplicaci√≥n, tienes la obligaci√≥n de utilizar versiones de software con soporte a largo plazo conocidas como:",options:["ESR (Extended Support Release)","LTS (Long-Term Support)","Stable Release","Current Release"],correct:1},
            {id:162,module:"c3",category:"Software Obsoleto",question:"El software sin soporte del fabricante no recibe nuevos parches de seguridad, lo que es como dejar una puerta:",options:["Sin cerradura para los intrusos","Abierta a los atacantes","Vulnerable a las amenazas","Expuesta al riesgo"],correct:1},
            {id:163,module:"c3",category:"Seguridad F√≠sica",question:"La Norma de Seguridad F√≠sica protege a las personas, la informaci√≥n y los activos de TI contra:",options:["Amenazas ambientales y accesos no controlados","Da√±os f√≠sicos y accesos no autorizados","Desastres naturales y vandalismo","Robo de equipos y sabotaje"],correct:1},
            {id:164,module:"c3",category:"Per√≠metros Seguridad",question:"Se deben establecer m√∫ltiples capas de seguridad f√≠sica (per√≠metros) para proteger las √°reas:",options:["Cr√≠ticas como oficinas y √°reas de trabajo","Sensibles como centros de datos y salas de comunicaciones","Restringidas como b√≥vedas y archivos","Controladas como accesos y recepciones"],correct:1},
            {id:165,module:"c3",category:"Acceso F√≠sico Prod",question:"Como desarrollador, no tendr√°s acceso f√≠sico a los servidores de producci√≥n. Todas tus interacciones deben realizarse a trav√©s de:",options:["Los equipos de operaciones y soporte","Herramientas de acceso remoto seguras y autorizadas","Las consolas de administraci√≥n centralizadas","Los procedimientos de cambio establecidos"],correct:1},
            {id:166,module:"c3",category:"Escritorio Limpio",question:"La pol√≠tica de 'escritorio limpio' implica guardar documentos sensibles:",options:["En archivadores con llave cuando no se usan","Al final del d√≠a","Antes de cualquier ausencia prolongada","Siempre que se abandone el puesto de trabajo"],correct:1},
            {id:167,module:"c3",category:"Port√°til Seguridad",question:"Eres directamente responsable de la seguridad f√≠sica de:",options:["Los activos de informaci√≥n que manejas","Tu equipo de trabajo (tu port√°til)","Los dispositivos asignados a tu √°rea","La informaci√≥n almacenada en tus dispositivos"],correct:1},
            {id:168,module:"c3",category:"SDLC",question:"La Norma de Ciclo de Vida Productivo del Desarrollo de Software define un marco de trabajo metodol√≥gico para todas las fases del:",options:["Ciclo de desarrollo de aplicaciones","SDLC (Software Development Life Cycle)","Proceso de ingenier√≠a de software","Marco de trabajo de desarrollo"],correct:1},
            {id:169,module:"c3",category:"Fases SDLC",question:"La norma define las fases por las que debe pasar todo proyecto como An√°lisis, Dise√±o, Construcci√≥n, Pruebas y:",options:["Implementaci√≥n, Mantenimiento, etc.","Despliegue, etc.","Liberaci√≥n, Operaci√≥n, etc.","Transici√≥n, Soporte, etc."],correct:1},
            {id:170,module:"c3",category:"Artefactos",question:"En cada fase del SDLC se deben generar documentos o 'artefactos' m√≠nimos como evidencia del:",options:["Cumplimiento de los controles establecidos","Trabajo realizado","Avance del proyecto","Seguimiento del proceso"],correct:1},
            {id:171,module:"c3",category:"Documentaci√≥n M√≠nima",question:"Aunque trabajes en un entorno √°gil, la norma te exige generar y mantener una documentaci√≥n t√©cnica:",options:["Completa, incluyendo manuales de usuario y operaci√≥n","M√≠nima, como el Dise√±o de Detalle o Dise√±o T√©cnico","B√°sica, con los diagramas de arquitectura principales","Suficiente, para cumplir con auditor√≠a"],correct:1},
            {id:172,module:"c3",category:"Roles SDLC",question:"La norma establece claramente qui√©n es responsable de qu√©, definiendo roles como Tech Lead, Arquitecto, Desarrollador y:",options:["Scrum Master","Responsable de QA","Product Owner","DevOps Engineer"],correct:1},
            {id:173,module:"c3",category:"Shift Left",question:"La Norma de Seguridad en el SDLC busca mover la seguridad hacia la izquierda ('Shift Left'), encontrando problemas en las fases m√°s:",options:["Iniciales del proceso de desarrollo","Tempranas y baratas del ciclo de vida","Cercanas al dise√±o de la soluci√≥n","Pr√≥ximas a la definici√≥n de requisitos"],correct:1},
            {id:174,module:"c3",category:"Security by Design",question:"La seguridad debe considerarse desde la fase de requisitos y dise√±o, esto se conoce como:",options:["Secure SDLC","Security by Design","Security First","Built-in Security"],correct:1},
            {id:175,module:"c3",category:"Threat Modeling",question:"Debes participar en actividades de Modelado de Amenazas conocido como:",options:["Risk Assessment","Threat Modeling","Security Analysis","Attack Simulation"],correct:1},
            {id:176,module:"c3",category:"OWASP Top 10",question:"Debes conocer y aplicar pr√°cticas de codificaci√≥n segura para resistir vulnerabilidades comunes listadas en:",options:["CWE Top 25","OWASP Top 10","SANS Top 20","CVE Database"],correct:1},
            {id:177,module:"c3",category:"Validaci√≥n Entradas",question:"Debes validar estrictamente todas las entradas del usuario para prevenir Inyecci√≥n SQL y:",options:["CSRF (Cross-Site Request Forgery)","XSS (Cross-Site Scripting)","SSRF (Server-Side Request Forgery)","RCE (Remote Code Execution)"],correct:1},
            {id:178,module:"c3",category:"Security Gates",question:"Tu pipeline de CI/CD debe incluir 'puertas de calidad' de seguridad conocidas como:",options:["Quality Gates","Security Gates","Control Points","Check Points"],correct:1},
            {id:179,module:"c3",category:"Norma Testing",question:"La Norma de Testing en el SDLC busca prevenir que los defectos (bugs) lleguen al entorno de:",options:["Pre-producci√≥n","Producci√≥n","Certificaci√≥n","Aceptaci√≥n"],correct:1},
            {id:180,module:"c3",category:"Pruebas Unitarias",question:"Eres el principal responsable del primer y m√°s importante nivel de pruebas: las pruebas:",options:["De componente","Unitarias","De integraci√≥n","Funcionales"],correct:1},
            {id:181,module:"c3",category:"Plan Pruebas",question:"Para cada proyecto o cambio significativo, debe existir un Plan de Pruebas que defina el alcance, tipos de pruebas, entornos y:",options:["Recursos asignados y cronograma","Criterios de aceptaci√≥n","Casos de prueba y datos","M√©tricas de cobertura"],correct:1},
            {id:182,module:"c3",category:"Automatizaci√≥n Pruebas",question:"La norma impulsa la automatizaci√≥n de las pruebas para poder ejecutarlas de forma r√°pida, frecuente y:",options:["Completa","Fiable","Consistente","Repetible"],correct:1},
            {id:183,module:"c3",category:"Integridad",question:"La Norma de Tratamiento seg√∫n Integridad asegura que la informaci√≥n sea correcta, completa y no haya sido alterada de forma:",options:["Indebida","No autorizada","Accidental","Maliciosa"],correct:1},
            {id:184,module:"c3",category:"Hash Firmas",question:"Se deben utilizar mecanismos criptogr√°ficos para detectar si la informaci√≥n ha sido alterada, como funciones de hash y:",options:["C√≥digos de autenticaci√≥n de mensajes (MAC)","Firmas digitales","Certificados digitales","Sellos de tiempo"],correct:1},
            {id:185,module:"c3",category:"Logs Auditor√≠a",question:"Tu aplicaci√≥n debe generar logs de auditor√≠a detallados para todas las operaciones de creaci√≥n, modificaci√≥n y:",options:["Consulta (CRUD completo)","Borrado (CRUD)","Lectura (CRUD)","Acceso (CRUD)"],correct:1},

            // ========== CAP√çTULO 4: CONTROL INTERNO (22 preguntas) ==========
            {id:186,module:"c4",category:"Tres L√≠neas",question:"El Modelo de las Tres L√≠neas organiza el control interno con Primera L√≠nea (equipos de desarrollo), Segunda L√≠nea (RCS IT) y:",options:["Cuarta L√≠nea (Regulador Externo)","Tercera L√≠nea (Auditor√≠a Interna)","L√≠nea de Supervisi√≥n (Comit√© de Riesgos)","L√≠nea de Gobierno (Alta Direcci√≥n)"],correct:1},
            {id:187,module:"c4",category:"Primera L√≠nea",question:"La Primera L√≠nea la componen los equipos de desarrollo, Tech Leads y Product Owners que son los que:",options:["Supervisan y validan el cumplimiento de controles","'Hacen', construyen y operan los servicios y aplicaciones","Definen las pol√≠ticas y est√°ndares a cumplir","Auditan y reportan sobre la efectividad de los controles"],correct:1},
            {id:188,module:"c4",category:"Responsabilidad 1L",question:"La Primera L√≠nea es la due√±a del riesgo en el d√≠a a d√≠a y su principal responsabilidad es conocer y aplicar las normativas para construir software:",options:["Eficiente y bien documentado desde el dise√±o","De alta calidad y seguro desde el principio","Escalable y mantenible desde la arquitectura","Robusto y resiliente desde el desarrollo"],correct:1},
            {id:189,module:"c4",category:"Herramienta 1L",question:"La principal herramienta de auto-control de la Primera L√≠nea es el:",options:["Panel de Control de Calidad (PCQ)","Checklist de Validaci√≥n T√©cnica (CVT)","Reporte de Cumplimiento de Controles (RCC)","Formulario de Verificaci√≥n de Entrega (FVE)"],correct:1},
            {id:190,module:"c4",category:"Segunda L√≠nea",question:"La Segunda L√≠nea (RCS IT) no desarrolla ni opera las aplicaciones, su funci√≥n es establecer las reglas del juego y:",options:["Auditar de forma peri√≥dica el cumplimiento de las normativas","Verificar de forma independiente que la Primera L√≠nea est√° aplicando los controles correctamente","Reportar a la alta direcci√≥n sobre el estado del control interno","Gestionar los riesgos identificados por la Primera L√≠nea"],correct:1},
            {id:191,module:"c4",category:"Challenge",question:"La Segunda L√≠nea desaf√≠a constructivamente ('challenge') para asegurar que los riesgos est√°n:",options:["Documentados y monitoreados","Bien gestionados","Identificados y mitigados","Reportados y escalados"],correct:1},
            {id:192,module:"c4",category:"Tercera L√≠nea",question:"La Tercera L√≠nea (Auditor√≠a Interna) es un equipo totalmente independiente que reporta a los niveles m√°s altos del banco y realiza:",options:["Evaluaciones de cumplimiento normativo","Revisiones peri√≥dicas y objetivas de todo el sistema","Verificaciones de efectividad de controles","Validaciones de la gesti√≥n de riesgos"],correct:1},
            {id:193,module:"c4",category:"RCS IT Misi√≥n",question:"RCS IT tiene como misi√≥n proporcionar una 'seguridad razonable' de que los riesgos de tecnolog√≠a est√°n siendo:",options:["Monitoreados continuamente","Gestionados eficazmente","Reportados adecuadamente","Mitigados apropiadamente"],correct:1},
            {id:194,module:"c4",category:"Qu√© Prueban",question:"RCS IT no prueba el c√≥digo de tu aplicaci√≥n, sino que prueba la ejecuci√≥n de los controles definidos en:",options:["Las normativas de seguridad","Los procesos de TI","Las pol√≠ticas de desarrollo","Los est√°ndares t√©cnicos"],correct:1},
            {id:195,module:"c4",category:"RCA",question:"Para cada proceso, RCS IT identifica los controles m√°s importantes mediante el Risk Control Assessment o:",options:["RCM","RCA","RCE","RCI"],correct:1},
            {id:196,module:"c4",category:"TOD",question:"Las Pruebas de Dise√±o (Test of Design) eval√∫an si el control, tal como est√° definido en la normativa, es:",options:["Suficiente para cumplir con el regulador","Adecuado para mitigar el riesgo","Apropiado para el proceso","Efectivo en su implementaci√≥n"],correct:1},
            {id:197,module:"c4",category:"TOE",question:"Las Pruebas de Eficacia Operativa (Test of Effectiveness) verifican si el control se est√° ejecutando de forma consistente en:",options:["Los diferentes entornos","La pr√°ctica","Todos los equipos","El per√≠odo evaluado"],correct:1},
            {id:198,module:"c4",category:"Muestra Aleatoria",question:"Para las pruebas TOE, el equipo de control selecciona una muestra aleatoria de evidencia, por ejemplo:",options:["Los √∫ltimos 15 despliegues realizados por tu equipo","Los √∫ltimos 15 CRQs cerrados por tu equipo","Los √∫ltimos 15 sprints completados por tu equipo","Los √∫ltimos 15 incidentes resueltos por tu equipo"],correct:1},
            {id:199,module:"c4",category:"Solicitud Evidencia",question:"Un miembro de RCS IT te contactar√° y te solicitar√° la evidencia de que cumpliste con el control, como:",options:["El reporte de cobertura de pruebas y m√©tricas de calidad","El Plan de Pruebas con firma de aprobaci√≥n y reporte de ejecuci√≥n","El documento de dise√±o t√©cnico aprobado por arquitectura","La matriz de trazabilidad de requisitos y casos de prueba"],correct:1},
            {id:200,module:"c4",category:"Control Efectivo",question:"Si para toda la muestra se proporciona la evidencia correcta y a tiempo, la conclusi√≥n es que el control es:",options:["'Conforme'","'Efectivo'","'Satisfactorio'","'Cumplido'"],correct:1},
            {id:201,module:"c4",category:"Gap Deficiencia",question:"Si la evidencia no existe, es incorrecta o est√° incompleta, se documenta formalmente como una 'Deficiencia' o:",options:["Hallazgo","Gap","Observaci√≥n","No conformidad"],correct:1},
            {id:202,module:"c4",category:"Responsable Gap",question:"A cada Gap se le asigna un responsable (normalmente el l√≠der del equipo de la Primera L√≠nea) y se debe crear:",options:["Una excepci√≥n temporal con controles compensatorios","Un plan de acci√≥n con fechas compromiso para corregir la causa ra√≠z","Un reporte de incidencia para seguimiento","Una solicitud de cambio para implementar la correcci√≥n"],correct:1},
            {id:203,module:"c4",category:"Seguimiento Gap",question:"RCS IT realiza un seguimiento peri√≥dico de los planes de acci√≥n hasta que la deficiencia queda:",options:["Documentada y archivada","Completamente cerrada","Mitigada con controles alternativos","Aceptada por la gerencia"],correct:1},
            {id:204,module:"c4",category:"Profesionalismo",question:"Entender el proceso de control te permite anticiparte y acostumbrarte a generar y almacenar las evidencias de tu trabajo como:",options:["Un requisito de cumplimiento","Parte natural de tu flujo","Una tarea adicional necesaria","Un proceso de documentaci√≥n"],correct:1},
            {id:205,module:"c4",category:"Reduce Retrabajo",question:"Si eres riguroso en la aplicaci√≥n de los controles y en la gesti√≥n de tus evidencias, las interacciones con RCS IT ser√°n:",options:["Menos frecuentes y m√°s predecibles","R√°pidas y fluidas","M√°s eficientes y productivas","Simples y directas"],correct:1},
            {id:206,module:"c4",category:"Fortaleza Banco",question:"Al cumplir con los controles, contribuyes activamente a la calidad, seguridad y Resiliencia de los sistemas que operan:",options:["Los procesos cr√≠ticos del banco","El dinero de nuestros clientes","La infraestructura tecnol√≥gica","Los servicios financieros"],correct:1},
            {id:207,module:"c4",category:"Di√°logo Colaborativo",question:"El control interno es un di√°logo colaborativo entre los que construyen (Primera L√≠nea) y los que revisan (Segunda L√≠nea) para asegurar:",options:["El cumplimiento de las normativas vigentes","Conjuntamente la fortaleza de nuestros procesos","La efectividad de los controles implementados","La gesti√≥n adecuada de los riesgos"],correct:1},

            // ========== CAP√çTULO 5: CVT (30 preguntas) ==========
            {id:208,module:"c5",category:"CVT Definici√≥n",question:"El Checklist de Validaci√≥n T√©cnica (CVT) es la 'lista de verificaci√≥n final del piloto antes de:",options:["Iniciar' - la validaci√≥n previa al desarrollo","Despegar' - el √∫ltimo punto de control antes de producci√≥n","Aterrizar' - la verificaci√≥n post-implementaci√≥n","Navegar' - el control durante el desarrollo"],correct:1},
            {id:209,module:"c5",category:"CVT Prop√≥sito",question:"El CVT es un procedimiento formal que garantiza el cumplimiento de los controles m√≠nimos aplicables al desarrollo de sistemas antes de:",options:["Una revisi√≥n de c√≥digo por pares","Una instalaci√≥n en producci√≥n","Una validaci√≥n de seguridad","Una prueba de aceptaci√≥n de usuario"],correct:1},
            {id:210,module:"c5",category:"Objetivo Calidad",question:"Uno de los objetivos del CVT es verificar que el cambio ha sido probado correctamente y que se han gestionado:",options:["Las dependencias t√©cnicas","Los defectos","Los riesgos identificados","Las revisiones de c√≥digo"],correct:1},
            {id:211,module:"c5",category:"Objetivo Seguridad",question:"El CVT confirma que se han pasado los escaneos de seguridad y que no se introducen nuevas:",options:["Dependencias sin validar","Vulnerabilidades","Configuraciones inseguras","Librer√≠as obsoletas"],correct:1},
            {id:212,module:"c5",category:"Objetivo Riesgo",question:"El CVT asegura que el cambio est√° debidamente documentado y es transferible al equipo de:",options:["Soporte t√©cnico","Operaciones","Monitoreo","Infraestructura"],correct:1},
            {id:213,module:"c5",category:"Evidencia Auditable",question:"El CVT genera un registro formal y auditable de que se han cumplido todos los controles, protegi√©ndote a ti, a tu equipo y:",options:["A los stakeholders del proyecto","Al banco","A los usuarios finales","A los reguladores"],correct:1},
            {id:214,module:"c5",category:"CRQ",question:"El CVT est√° integrado en el flujo de gesti√≥n de cambios conocido como:",options:["RFC","CRQ","CR","CHG"],correct:1},
            {id:215,module:"c5",category:"√önico CVT",question:"Se debe generar un √∫nico CVT por cada objetivo de negocio o proyecto, el cual agrupar√° a todos los:",options:["Entregables de documentaci√≥n asociados","CRQs t√©cnicos asociados a esa liberaci√≥n","Artefactos de pruebas generados","Reportes de seguridad obtenidos"],correct:1},
            {id:216,module:"c5",category:"Change Lead",question:"La persona designada como responsable final de la correcta cumplimentaci√≥n y entrega del CVT es:",options:["El Tech Lead del equipo de desarrollo","El Change Lead de la instalaci√≥n","El Product Owner del proyecto","El QA Lead de la liberaci√≥n"],correct:1},
            {id:217,module:"c5",category:"Expediente T√©cnico",question:"El formulario CVT act√∫a como un √≠ndice que apunta a documentos obligatorios que conforman el:",options:["'Paquete de Liberaci√≥n'","'Expediente T√©cnico B√°sico'","'Dossier de Cumplimiento'","'Registro de Evidencias'"],correct:1},
            {id:218,module:"c5",category:"Documentaci√≥n Dise√±o",question:"El CVT valida que existe un Documento de Dise√±o T√©cnico o Dise√±o de Detalle actualizado que refleje:",options:["La arquitectura de la soluci√≥n","El cambio realizado","Los requisitos implementados","Las decisiones de dise√±o"],correct:1},
            {id:219,module:"c5",category:"C204",question:"El CVT valida que se adjunta la matriz de pruebas conocida como:",options:["C104","C204","C304","C404"],correct:1},
            {id:220,module:"c5",category:"Aprobaci√≥n PO",question:"La matriz de pruebas C204 debe estar aprobada por el Product Owner o el responsable de:",options:["Calidad","Negocio","Desarrollo","Arquitectura"],correct:1},
            {id:221,module:"c5",category:"Chimera",question:"El CVT valida que se adjunta el reporte de la herramienta de an√°lisis de vulnerabilidades como:",options:["SonarQube","Chimera","Fortify","Checkmarx"],correct:1},
            {id:222,module:"c5",category:"Sin Vulnerabilidades",question:"El reporte de seguridad debe demostrar que el c√≥digo no tiene vulnerabilidades cr√≠ticas o:",options:["Medias","Altas","Abiertas","Pendientes"],correct:1},
            {id:223,module:"c5",category:"Aprobaciones Formales",question:"El CVT valida que se cuenta con la aprobaci√≥n formal de todas las partes implicadas como Arquitectura, Seguridad y:",options:["Operaciones","Negocio","Cumplimiento","Calidad"],correct:1},
            {id:224,module:"c5",category:"PPP",question:"El CVT valida que est√° documentado el Plan de Puesta en Producci√≥n conocido como:",options:["PDP","PPP","PIP","PHP"],correct:1},
            {id:225,module:"c5",category:"Plan Rollback",question:"Adem√°s del PPP, el CVT valida que existe un plan para revertir el cambio de forma segura conocido como:",options:["Plan de Contingencia","Plan de Rollback","Plan de Recuperaci√≥n","Plan de Reversi√≥n"],correct:1},
            {id:226,module:"c5",category:"CUC",question:"El expediente del CVT se almacena finalmente en el Centro √önico de Conocimiento conocido como:",options:["CRC","CUC","CIC","CDC"],correct:1},
            {id:227,module:"c5",category:"CVT Incompleto",question:"Un CVT incompleto, incorrecto o con evidencias faltantes detendr√° el pase a producci√≥n hasta que sea:",options:["Aprobado con excepciones","Subsanado","Validado por el comit√©","Autorizado por gerencia"],correct:1},
            {id:228,module:"c5",category:"Escudo Protector",question:"Cumplimentar el CVT de forma rigurosa es tu principal defensa porque demuestra que has seguido los procedimientos de forma:",options:["Completa y documentada","Profesional y diligente","Correcta y verificable","Ordenada y trazable"],correct:1},
            {id:229,module:"c5",category:"Fomenta Disciplina",question:"El CVT te 'obliga' a no saltarte pasos importantes, incluso cuando hay presi√≥n por:",options:["Reducir costos del proyecto","Las fechas de entrega","Cumplir con el sprint","Satisfacer al cliente"],correct:1},
            {id:230,module:"c5",category:"Control DyD-001",question:"El control DyD-001 se refiere a:",options:["Dise√±o de arquitectura de soluci√≥n","Definici√≥n Funcional y t√©cnica","Especificaci√≥n de requisitos de sistema","Documento de alcance del proyecto"],correct:1},
            {id:231,module:"c5",category:"Control DyD-002",question:"El control DyD-002 se refiere a:",options:["Gesti√≥n de versiones y ramas de desarrollo","C√≥digo fuente almacenado en repositorio corporativo","Control de cambios en el c√≥digo fuente","Revisi√≥n de c√≥digo por pares obligatoria"],correct:1},
            {id:232,module:"c5",category:"Control DyD-003",question:"El control DyD-003 se refiere a:",options:["Revisi√≥n de c√≥digo por pares","An√°lisis est√°tico de c√≥digo fuente","Pruebas unitarias automatizadas","Cobertura de c√≥digo m√≠nima"],correct:1},
            {id:233,module:"c5",category:"Control DyD-004",question:"El control DyD-004 se refiere a:",options:["An√°lisis din√°mico de aplicaciones","Pruebas de seguridad aplicativa","Escaneo de vulnerabilidades de infraestructura","Pruebas de penetraci√≥n externas"],correct:1},
            {id:234,module:"c5",category:"Control DyD-005",question:"El control DyD-005 se refiere a:",options:["Pruebas de penetraci√≥n programadas","Verificaci√≥n de hacking √©tico","Auditor√≠a de seguridad externa","An√°lisis de vulnerabilidades peri√≥dico"],correct:1},
            {id:235,module:"c5",category:"Control DyD-006",question:"El control DyD-006 se refiere a:",options:["Pruebas de integraci√≥n continua","Pruebas funcionales y t√©cnicas (previas)","Pruebas de aceptaci√≥n de usuario","Pruebas de regresi√≥n automatizadas"],correct:1},
            {id:236,module:"c5",category:"Control DyD-007",question:"El control DyD-007 se refiere a:",options:["Pruebas de carga y estr√©s","Pruebas de rendimiento","Pruebas de capacidad","Pruebas de escalabilidad"],correct:1},
            {id:237,module:"c5",category:"Control PRO-01",question:"El control PRO-01 se refiere a:",options:["Aprobaci√≥n del comit√© de cambios","Gesti√≥n del cambio cada fase","Validaci√≥n de requisitos previos","Autorizaci√≥n de despliegue"],correct:1}
        ];

        // State
        let questions = [];
        let currentQuestionIndex = 0;
        let userAnswers = {};
        let answerResults = {};
        let correctCount = 0;
        let incorrectCount = 0;
        let selectedModules = new Set();

        const modules = {
            'c0': { name: 'üéØ Cap. 0-1: P√∫blico y Marco', count: 15 },
            'c2': { name: 'üèõÔ∏è Cap. 2: Enfoque BBVA', count: 10 },
            'c3': { name: 'üîí Cap. 3: Resiliencia y Normas', count: 160 },
            'c4': { name: '‚öôÔ∏è Cap. 4: Control Interno', count: 22 },
            'c5': { name: '‚úÖ Cap. 5: CVT', count: 30 }
        };

        const moduleLabels = {
            'c0': 'Cap. 0-1',
            'c1': 'Cap. 1',
            'c2': 'Cap. 2',
            'c3': 'Cap. 3',
            'c4': 'Cap. 4',
            'c5': 'Cap. 5'
        };

        function init() {
            renderModules();
        }

        function renderModules() {
            const grid = document.getElementById('categoryGrid');
            const totalQuestions = allQuestions.length;
            
            grid.innerHTML = `
                <div class="category-chip selected" onclick="toggleAllModules(this)" data-module="all">
                    <div class="category-chip-name">üìö Todos los cap√≠tulos</div>
                    <div class="category-chip-count">${totalQuestions} preguntas</div>
                </div>
            `;

            Object.entries(modules).forEach(([key, value]) => {
                grid.innerHTML += `
                    <div class="category-chip selected" onclick="toggleModule('${key}', this)" data-module="${key}">
                        <div class="category-chip-name">${value.name}</div>
                        <div class="category-chip-count">${value.count} preguntas</div>
                    </div>
                `;
            });

            selectedModules = new Set(Object.keys(modules));
        }

        function toggleAllModules(element) {
            const allChips = document.querySelectorAll('.category-chip');
            if (element.classList.contains('selected')) {
                allChips.forEach(chip => chip.classList.remove('selected'));
                selectedModules.clear();
            } else {
                allChips.forEach(chip => chip.classList.add('selected'));
                selectedModules = new Set(Object.keys(modules));
            }
        }

        function toggleModule(module, element) {
            document.querySelector('[data-module="all"]').classList.remove('selected');
            
            if (selectedModules.has(module)) {
                selectedModules.delete(module);
                element.classList.remove('selected');
            } else {
                selectedModules.add(module);
                element.classList.add('selected');
            }
            
            if (selectedModules.size === Object.keys(modules).length) {
                document.querySelector('[data-module="all"]').classList.add('selected');
            }
        }

        function shuffleOptions(question) {
            const indices = question.options.map((_, i) => i);
            
            for (let i = indices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [indices[i], indices[j]] = [indices[j], indices[i]];
            }
            
            const newOptions = indices.map(i => question.options[i]);
            const newCorrect = indices.indexOf(question.correct);
            
            return {
                ...question,
                options: newOptions,
                correct: newCorrect
            };
        }

        function startExam() {
            if (selectedModules.size === 0) {
                alert('Por favor selecciona al menos un cap√≠tulo');
                return;
            }

            let limit = parseInt(document.getElementById('questionLimit').value) || 50;
            limit = Math.max(10, Math.min(237, limit));

            let filteredQuestions = allQuestions.filter(q => selectedModules.has(q.module));
            filteredQuestions = shuffleArray(filteredQuestions);
            filteredQuestions = filteredQuestions.slice(0, limit);
            questions = filteredQuestions.map(q => shuffleOptions(q));
            
            currentQuestionIndex = 0;
            userAnswers = {};
            answerResults = {};
            correctCount = 0;
            incorrectCount = 0;

            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('examScreen').classList.remove('hidden');
            
            document.getElementById('totalQuestions').textContent = questions.length;
            
            renderQuestionNav();
            renderQuestion();
            updateStats();
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function renderQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            questions.forEach((_, index) => {
                const btn = document.createElement('button');
                btn.className = 'nav-btn';
                if (index === currentQuestionIndex) btn.classList.add('current');
                if (answerResults[index] === true) btn.classList.add('correct');
                if (answerResults[index] === false) btn.classList.add('incorrect');
                btn.textContent = index + 1;
                btn.onclick = () => goToQuestion(index);
                nav.appendChild(btn);
            });
        }

        function goToQuestion(index) {
            currentQuestionIndex = index;
            renderQuestion();
            renderQuestionNav();
        }

        function updateStats() {
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('incorrectCount').textContent = incorrectCount;
            
            const answeredCount = Object.keys(userAnswers).length;
            const progress = (answeredCount / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            const isAnswered = userAnswers[currentQuestionIndex] !== undefined;
            const userAnswer = userAnswers[currentQuestionIndex];
            const isCorrect = answerResults[currentQuestionIndex];
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('questionNumber').textContent = `Pregunta ${currentQuestionIndex + 1}`;
            document.getElementById('questionCategory').textContent = question.category;
            
            const moduleBadge = document.getElementById('moduleBadge');
            moduleBadge.textContent = moduleLabels[question.module] || question.module;
            moduleBadge.className = `module-badge ${question.module}`;
            
            document.getElementById('questionContent').innerHTML = `<p class="question-text">${question.question}</p>`;
            
            const questionCard = document.getElementById('questionCard');
            questionCard.classList.remove('answered-correct', 'answered-incorrect');
            if (isAnswered) {
                questionCard.classList.add(isCorrect ? 'answered-correct' : 'answered-incorrect');
            }
            
            const optionsList = document.getElementById('optionsList');
            const letters = ['A', 'B', 'C', 'D', 'E', 'F'];
            
            optionsList.innerHTML = question.options.map((option, index) => {
                let className = 'option';
                let feedback = '';
                
                if (isAnswered) {
                    className += ' disabled';
                    if (index === question.correct) {
                        className += ' correct';
                        if (index === userAnswer) {
                            feedback = '<span class="option-feedback correct">‚úì ¬°Correcto!</span>';
                        } else {
                            className += ' show-correct';
                            feedback = '<span class="option-feedback correct">‚úì Respuesta correcta</span>';
                        }
                    } else if (index === userAnswer) {
                        className += ' incorrect';
                        feedback = '<span class="option-feedback incorrect">‚úó Incorrecto</span>';
                    }
                }
                
                return `
                    <div class="${className}" onclick="${isAnswered ? '' : `selectOption(${index})`}">
                        <span class="option-letter">${letters[index]}</span>
                        <span class="option-text">${option}</span>
                        ${feedback}
                    </div>
                `;
            }).join('');

            const feedbackContainer = document.getElementById('feedbackContainer');
            if (isAnswered) {
                if (isCorrect) {
                    feedbackContainer.innerHTML = `
                        <div class="feedback-message correct">
                            <span class="feedback-icon">‚úÖ</span>
                            <span>¬°Excelente! Has respondido correctamente.</span>
                        </div>
                    `;
                } else {
                    feedbackContainer.innerHTML = `
                        <div class="feedback-message incorrect">
                            <span class="feedback-icon">‚ùå</span>
                            <span>Respuesta incorrecta. La respuesta correcta est√° marcada en verde.</span>
                        </div>
                    `;
                }
            } else {
                feedbackContainer.innerHTML = '';
            }

            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === questions.length - 1) {
                document.getElementById('nextBtn').classList.add('hidden');
                document.getElementById('finishBtn').classList.remove('hidden');
            } else {
                document.getElementById('nextBtn').classList.remove('hidden');
                document.getElementById('finishBtn').classList.add('hidden');
            }
        }

        function selectOption(optionIndex) {
            if (userAnswers[currentQuestionIndex] !== undefined) return;
            
            const question = questions[currentQuestionIndex];
            const isCorrect = optionIndex === question.correct;
            
            userAnswers[currentQuestionIndex] = optionIndex;
            answerResults[currentQuestionIndex] = isCorrect;
            
            if (isCorrect) {
                correctCount++;
            } else {
                incorrectCount++;
            }
            
            updateStats();
            renderQuestion();
            renderQuestionNav();
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
                renderQuestionNav();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
                renderQuestionNav();
            }
        }

        function finishExam() {
            const unanswered = questions.length - Object.keys(userAnswers).length;
            const score = Math.round((correctCount / questions.length) * 100);

            document.getElementById('examScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = `${score}%`;
            document.getElementById('finalCorrectCount').textContent = correctCount;
            document.getElementById('finalIncorrectCount').textContent = incorrectCount;
            document.getElementById('finalUnansweredCount').textContent = unanswered;

            let gradeText = '';
            let gradeEmoji = '';
            
            if (score >= 90) { gradeText = 'Maestro del Cumplimiento'; gradeEmoji = 'üèÜ'; }
            else if (score >= 80) { gradeText = 'Experto'; gradeEmoji = 'üéâ'; }
            else if (score >= 70) { gradeText = 'Aprobado'; gradeEmoji = '‚úÖ'; }
            else if (score >= 60) { gradeText = 'Necesita Refuerzo'; gradeEmoji = 'üìö'; }
            else { gradeText = 'Requiere Estudio Intensivo'; gradeEmoji = 'üî•'; }

            document.getElementById('gradeText').textContent = `${gradeEmoji} ${gradeText}`;
        }

        function reviewAnswers() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('reviewScreen').classList.remove('hidden');

            const container = document.getElementById('reviewContainer');
            const letters = ['A', 'B', 'C', 'D', 'E', 'F'];
            
            container.innerHTML = questions.map((question, qIndex) => {
                const userAnswer = userAnswers[qIndex];
                const isCorrect = answerResults[qIndex];
                const isUnanswered = userAnswer === undefined;

                return `
                    <div class="question-card fade-in" style="animation-delay: ${qIndex * 0.02}s">
                        <div class="question-header">
                            <span class="question-number">Pregunta ${qIndex + 1}</span>
                            <span class="question-category">${question.category}</span>
                            <span class="module-badge ${question.module}">${moduleLabels[question.module]}</span>
                            <span style="margin-left: auto; font-size: 1.5rem;">
                                ${isUnanswered ? '‚ö†Ô∏è' : (isCorrect ? '‚úÖ' : '‚ùå')}
                            </span>
                        </div>
                        <p class="question-text">${question.question}</p>
                        <div class="options-list">
                            ${question.options.map((option, oIndex) => {
                                let className = 'option disabled';
                                let feedback = '';
                                
                                if (oIndex === question.correct) {
                                    className += ' correct';
                                    feedback = '<span class="option-feedback correct">‚úì Correcta</span>';
                                } else if (oIndex === userAnswer && !isCorrect) {
                                    className += ' incorrect';
                                    feedback = '<span class="option-feedback incorrect">Tu respuesta</span>';
                                }
                                
                                return `
                                    <div class="${className}">
                                        <span class="option-letter">${letters[oIndex]}</span>
                                        <span class="option-text">${option}</span>
                                        ${feedback}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function backToResults() {
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
        }

        function restartExam() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
            
            questions = [];
            currentQuestionIndex = 0;
            userAnswers = {};
            answerResults = {};
            correctCount = 0;
            incorrectCount = 0;
            
            renderModules();
        }

        init();
    </script>
</body>
</html>
