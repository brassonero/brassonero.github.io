<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n Norma de Testing BBVA - MODO DIF√çCIL</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a1628;
            --bg-secondary: #0f2847;
            --bg-tertiary: #1a3a5c;
            --bg-card: #122a46;
            --accent-blue: #004481;
            --accent-light-blue: #1973b8;
            --accent-cyan: #00a9e0;
            --accent-green: #00c389;
            --accent-red: #e63946;
            --accent-yellow: #ffc107;
            --accent-orange: #ff6b35;
            --accent-purple: #7c3aed;
            --text-primary: #ffffff;
            --text-secondary: #a3c1e0;
            --text-muted: #6b8eb3;
            --border-color: #1e4976;
            --glow-blue: 0 0 20px rgba(0, 68, 129, 0.4);
            --glow-cyan: 0 0 20px rgba(0, 169, 224, 0.3);
            --glow-green: 0 0 20px rgba(0, 195, 137, 0.3);
            --glow-red: 0 0 20px rgba(230, 57, 70, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .bg-grid {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(0, 68, 129, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 68, 129, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-secondary) 100%);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-orange), var(--accent-yellow), var(--accent-red));
            background-size: 200% 100%;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .logo-icon {
            width: 70px; height: 70px;
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: var(--glow-red);
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p { color: var(--text-secondary); font-size: 1.1rem; margin-top: 0.5rem; }

        .fix-badge {
            display: inline-block;
            background: var(--accent-red);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        @keyframes pulse-difficulty {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.2rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover { border-color: var(--accent-cyan); box-shadow: var(--glow-cyan); }
        .stat-card.correct-stat { border-color: var(--accent-green); }
        .stat-card.incorrect-stat { border-color: var(--accent-red); }

        .stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--accent-cyan);
        }

        .stat-value.correct { color: var(--accent-green); }
        .stat-value.incorrect { color: var(--accent-red); }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.3rem;
        }

        .progress-container {
            background: var(--bg-tertiary);
            border-radius: 10px;
            height: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-orange));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .question-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .question-card:hover { border-color: rgba(0, 169, 224, 0.3); }
        .question-card.answered-correct { border-color: var(--accent-green); box-shadow: var(--glow-green); }
        .question-card.answered-incorrect { border-color: var(--accent-red); box-shadow: var(--glow-red); }

        .question-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .question-number {
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            color: white;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .question-category {
            font-size: 0.85rem;
            color: var(--text-muted);
            background: var(--bg-tertiary);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
        }

        .question-text {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        .module-badge {
            display: inline-block;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .module-badge.m1 { background: var(--accent-blue); color: white; }
        .module-badge.m2 { background: var(--accent-cyan); color: white; }
        .module-badge.m3 { background: var(--accent-green); color: white; }
        .module-badge.m4 { background: var(--accent-orange); color: white; }
        .module-badge.m5 { background: var(--accent-purple); color: white; }
        .module-badge.m6 { background: var(--accent-red); color: white; }

        .options-list { display: flex; flex-direction: column; gap: 0.8rem; }

        .option {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.2rem;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover:not(.disabled) {
            border-color: var(--accent-cyan);
            background: rgba(0, 169, 224, 0.05);
        }

        .option.correct {
            border-color: var(--accent-green);
            background: rgba(0, 195, 137, 0.15);
            box-shadow: var(--glow-green);
        }

        .option.incorrect {
            border-color: var(--accent-red);
            background: rgba(230, 57, 70, 0.15);
            box-shadow: var(--glow-red);
        }

        .option.disabled { cursor: not-allowed; opacity: 0.7; }
        .option.show-correct { border-color: var(--accent-green); background: rgba(0, 195, 137, 0.1); }

        .option-letter {
            width: 36px; height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .option:hover:not(.disabled) .option-letter { background: var(--accent-cyan); color: white; }
        .option.correct .option-letter { background: var(--accent-green); color: white; }
        .option.incorrect .option-letter { background: var(--accent-red); color: white; }
        .option.show-correct .option-letter { background: var(--accent-green); color: white; }

        .option-text { flex: 1; color: var(--text-primary); font-size: 0.95rem; }

        .option-feedback {
            font-size: 0.9rem;
            font-weight: 500;
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .option-feedback.correct { color: var(--accent-green); }
        .option-feedback.incorrect { color: var(--accent-red); }

        .feedback-message {
            margin-top: 1.5rem;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 500;
            animation: fadeIn 0.3s ease;
        }

        .feedback-message.correct {
            background: rgba(0, 195, 137, 0.15);
            border: 1px solid var(--accent-green);
            color: var(--accent-green);
        }

        .feedback-message.incorrect {
            background: rgba(230, 57, 70, 0.15);
            border: 1px solid var(--accent-red);
            color: var(--accent-red);
        }

        .feedback-icon { font-size: 1.5rem; }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            padding: 0.9rem 2rem;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            color: white;
        }

        .btn-primary:hover { transform: translateY(-2px); box-shadow: var(--glow-red); }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover { border-color: var(--accent-cyan); background: var(--bg-secondary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .question-nav {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(36px, 1fr));
            gap: 0.3rem;
            padding: 1.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            margin-bottom: 2rem;
            max-height: 180px;
            overflow-y: auto;
        }

        .nav-btn {
            width: 36px; height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .nav-btn:hover { border-color: var(--accent-cyan); color: var(--accent-cyan); }
        .nav-btn.current { background: linear-gradient(135deg, var(--accent-red), var(--accent-orange)); border-color: transparent; color: white; }
        .nav-btn.correct { background: var(--accent-green); border-color: transparent; color: white; }
        .nav-btn.incorrect { background: var(--accent-red); border-color: transparent; color: white; }

        .results-container { text-align: center; padding: 3rem; }

        .results-score {
            font-size: 5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-red), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .results-grade { font-size: 2rem; margin-bottom: 2rem; }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .result-stat { background: var(--bg-tertiary); padding: 1.5rem; border-radius: 12px; }

        .result-stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 600;
        }

        .result-stat-value.correct { color: var(--accent-green); }
        .result-stat-value.incorrect { color: var(--accent-red); }
        .result-stat-value.unanswered { color: var(--accent-yellow); }

        .start-screen { text-align: center; padding: 3rem; }
        .start-screen h2 { font-size: 2rem; margin-bottom: 1.5rem; }

        .start-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            text-align: left;
        }

        .info-item {
            background: var(--bg-tertiary);
            padding: 1.2rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .info-icon {
            width: 45px; height: 45px;
            background: var(--bg-secondary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
        }

        .info-text h4 { font-size: 0.9rem; color: var(--text-muted); font-weight: 400; }
        .info-text p { font-size: 1.1rem; color: var(--text-primary); font-weight: 500; }

        .category-selector { margin: 2rem 0; }
        .category-selector h3 { margin-bottom: 1rem; color: var(--text-secondary); }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 0.8rem;
            max-height: 300px;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .category-chip {
            padding: 0.8rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .category-chip:hover { border-color: var(--accent-cyan); }
        .category-chip.selected { border-color: var(--accent-orange); background: rgba(255, 107, 53, 0.1); }
        .category-chip-name { font-weight: 500; color: var(--text-primary); font-size: 0.9rem; }
        .category-chip-count { font-size: 0.8rem; color: var(--text-muted); }

        .question-limit {
            margin: 1.5rem 0;
            padding: 1rem;
            background: var(--bg-tertiary);
            border-radius: 12px;
        }

        .question-limit label { display: block; margin-bottom: 0.5rem; color: var(--text-secondary); }

        .question-limit input {
            width: 100px;
            padding: 0.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            text-align: center;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-cyan); }

        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .stats-bar { grid-template-columns: repeat(2, 1fr); }
            .header h1 { font-size: 1.5rem; }
            .question-text { font-size: 1rem; }
            .start-info { grid-template-columns: 1fr; }
            .results-stats { grid-template-columns: 1fr; }
            .navigation { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
        }

        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 0 0 rgba(0, 195, 137, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(0, 195, 137, 0); }
        }

        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(230, 57, 70, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(230, 57, 70, 0); }
        }

        .option.correct { animation: pulse-green 0.5s ease; }
        .option.incorrect { animation: pulse-red 0.5s ease; }
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    
    <div class="container">
        <header class="header">
            <div class="logo">
                <div class="logo-icon">üî•</div>
                <div>
                    <h1>Norma de Testing BBVA</h1>
                    <p>De la teor√≠a a la pr√°ctica - Evaluaci√≥n Completa</p>
                    <span class="fix-badge">‚ö†Ô∏è Opciones aleatorizadas</span>
                </div>
            </div>
        </header>

        <div id="startScreen" class="question-card start-screen">
            <h2>Evaluaci√≥n</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Curso completo con preguntas de cada p√°rrafo del documento oficial.<br>
                Recibir√°s retroalimentaci√≥n inmediata en cada respuesta.<br>
                <strong style="color: var(--accent-orange);">Las opciones de respuesta se mezclan aleatoriamente en cada examen.</strong>
            </p>

            <div class="start-info">
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-blue);">üìö</div>
                    <div class="info-text">
                        <h4>M√≥dulo 1</h4>
                        <p>Fundamentos (25 preguntas)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-cyan);">üìã</div>
                    <div class="info-text">
                        <h4>M√≥dulo 2</h4>
                        <p>Introducci√≥n (18 preguntas)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-green);">‚öñÔ∏è</div>
                    <div class="info-text">
                        <h4>M√≥dulo 3</h4>
                        <p>Principios (21 preguntas)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-orange);">üìù</div>
                    <div class="info-text">
                        <h4>M√≥dulo 4</h4>
                        <p>Directrices (57 preguntas)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-purple);">üî¨</div>
                    <div class="info-text">
                        <h4>M√≥dulo 5</h4>
                        <p>Tipolog√≠as (44 preguntas)</p>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-icon" style="background: var(--accent-red);">üîÑ</div>
                    <div class="info-text">
                        <h4>M√≥dulo 6</h4>
                        <p>Proceso E2E (20 preguntas)</p>
                    </div>
                </div>
            </div>

            <div class="question-limit">
                <label>N√∫mero de preguntas para el examen:</label>
                <input type="number" id="questionLimit" min="10" max="185" value="185">
                <span style="color: var(--text-muted); margin-left: 0.5rem;">(10-185)</span>
            </div>

            <div class="category-selector">
                <h3>Filtrar por m√≥dulos (opcional):</h3>
                <div class="category-grid" id="categoryGrid"></div>
            </div>

            <button class="btn btn-primary" onclick="startExam()" style="margin-top: 1rem; padding: 1rem 3rem;">
                üî• Comenzar Evaluaci√≥n
            </button>
        </div>

        <div id="examScreen" class="hidden">
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-value" id="currentQuestion">1</div>
                    <div class="stat-label">Actual</div>
                </div>
                <div class="stat-card correct-stat">
                    <div class="stat-value correct" id="correctCount">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-card incorrect-stat">
                    <div class="stat-value incorrect" id="incorrectCount">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalQuestions">185</div>
                    <div class="stat-label">Total</div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>

            <div class="question-nav" id="questionNav"></div>

            <div class="question-card fade-in" id="questionCard">
                <div class="question-header">
                    <span class="question-number" id="questionNumber">Pregunta 1</span>
                    <span class="question-category" id="questionCategory">Categor√≠a</span>
                    <span class="module-badge" id="moduleBadge">M1</span>
                </div>
                <div id="questionContent">
                    <p class="question-text" id="questionText">Texto de la pregunta...</p>
                </div>
                <div class="options-list" id="optionsList"></div>
                <div id="feedbackContainer"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="prevQuestion()">‚Üê Anterior</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Siguiente ‚Üí</button>
                <button class="btn btn-primary hidden" id="finishBtn" onclick="finishExam()">üèÅ Finalizar</button>
            </div>
        </div>

        <div id="resultsScreen" class="hidden">
            <div class="question-card results-container">
                <h2 style="margin-bottom: 1rem;">Resultados - MODO DIF√çCIL üî•</h2>
                <div class="results-score" id="finalScore">0%</div>
                <div class="results-grade" id="gradeText">Calificaci√≥n</div>
                
                <div class="results-stats">
                    <div class="result-stat">
                        <div class="result-stat-value correct" id="finalCorrectCount">0</div>
                        <div class="stat-label">Correctas</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-stat-value incorrect" id="finalIncorrectCount">0</div>
                        <div class="stat-label">Incorrectas</div>
                    </div>
                    <div class="result-stat">
                        <div class="result-stat-value unanswered" id="finalUnansweredCount">0</div>
                        <div class="stat-label">Sin responder</div>
                    </div>
                </div>

                <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="reviewAnswers()">üìã Revisar Respuestas</button>
                    <button class="btn btn-primary" onclick="restartExam()">üîÑ Nuevo Examen</button>
                </div>
            </div>
        </div>

        <div id="reviewScreen" class="hidden">
            <div class="question-card" style="margin-bottom: 1rem;">
                <h2 style="margin-bottom: 0.5rem;">Revisi√≥n de Respuestas - MODO DIF√çCIL</h2>
                <p style="color: var(--text-secondary);">Las respuestas correctas se muestran en verde</p>
            </div>
            <div id="reviewContainer"></div>
            <div class="navigation">
                <button class="btn btn-primary" onclick="backToResults()">‚Üê Volver a Resultados</button>
            </div>
        </div>
    </div>

    <script>
        // HARD MODE - Complete Question Database with challenging distractors
        const allQuestions = [
            // ========== M√ìDULO 1: FUNDAMENTOS DEL TESTING (25 preguntas) ==========
            {id:1,module:"m1",category:"Necesidad Testing",question:"¬øPor qu√© es necesario el testing de software?",options:["Para verificar que el c√≥digo cumple con los est√°ndares de documentaci√≥n interna","Para evaluar el riesgo del creador y usuarios del software antes de disponibilizarlo","Para asegurar que el software fue desarrollado dentro del presupuesto establecido","Para validar que el equipo de desarrollo sigui√≥ la metodolog√≠a correctamente"],correct:1},
            {id:2,module:"m1",category:"Analog√≠a",question:"Seg√∫n el curso, ¬øte montar√≠as en un coche en el que no se hubiese probado...?",options:["El sistema de navegaci√≥n","El freno","El sistema de climatizaci√≥n","El sistema de audio"],correct:1},
            {id:3,module:"m1",category:"Software Actual",question:"El software en las empresas actuales ha pasado de ser un centro de coste a ser:",options:["Un requisito regulatorio obligatorio para operar en el mercado","Un elemento diferenciador fundamental en el mercado","Un activo que debe ser amortizado seg√∫n normativas contables","Una inversi√≥n estrat√©gica para reducir costos operativos"],correct:1},
            {id:4,module:"m1",category:"Proceso Humano",question:"La creaci√≥n del software es un proceso esencialmente:",options:["T√©cnico y por lo tanto susceptible a fallos de infraestructura","Humano y por lo tanto propenso a errores","Iterativo y por lo tanto dependiente de retroalimentaci√≥n continua","Colaborativo y por lo tanto sujeto a problemas de comunicaci√≥n"],correct:1},
            {id:5,module:"m1",category:"Riesgo Creador",question:"Evaluar el software antes de disponibilizarlo ayuda a evaluar el riesgo del creador, como por ejemplo:",options:["Riesgo operacional si el software no cumple con los SLAs acordados","Riesgo reputacional si el software falla","Riesgo financiero si el software excede el presupuesto de mantenimiento","Riesgo legal si el software no cumple con licencias de terceros"],correct:1},
            {id:6,module:"m1",category:"Riesgo Usuario",question:"¬øPor qu√© es especialmente importante evaluar el riesgo que asumen los usuarios al usar software cr√≠tico como un sistema de banca?",options:["Porque los usuarios dependen de la disponibilidad 24/7 del sistema","Porque los usuarios conf√≠an sus operaciones financieras al sistema","Porque los usuarios requieren una interfaz intuitiva para operar","Porque los usuarios necesitan acceso desde m√∫ltiples dispositivos"],correct:1},
            {id:7,module:"m1",category:"Definici√≥n Testing",question:"El testing (o proceso de testing) es aquel durante el cual se eval√∫a:",options:["La conformidad del software con los est√°ndares de arquitectura definidos","El estado o 'calidad' del software mediante la ejecuci√≥n de pruebas","El cumplimiento del software con los requisitos de documentaci√≥n t√©cnica","La adherencia del software a las pr√°cticas de desarrollo seguro"],correct:1},
            {id:8,module:"m1",category:"Definici√≥n Prueba",question:"Una prueba, de forma general, podr√≠a pensarse como:",options:["Una verificaci√≥n automatizada del c√≥digo fuente contra est√°ndares de calidad","Un conjunto de pasos aplicados sobre un sistema software y una comprobaci√≥n de que la salida es la esperada","Una revisi√≥n t√©cnica del dise√±o arquitect√≥nico del sistema","Una validaci√≥n de los requisitos funcionales contra el documento de especificaci√≥n"],correct:1},
            {id:9,module:"m1",category:"SDLC",question:"De forma ideal, el proceso de testing debe estar:",options:["Concentrado en las fases finales del SDLC para mayor eficiencia","Integrado a lo largo de todo el SDLC","Distribuido principalmente entre las fases de desarrollo y despliegue","Enfocado en las fases de dise√±o y pruebas del SDLC"],correct:1},
            {id:10,module:"m1",category:"Fases Testing",question:"Un proceso de testing completo contiene:",options:["Una fase principal con m√∫ltiples subfases de ejecuci√≥n","Dos fases: verificaci√≥n y validaci√≥n","Tres fases: planificaci√≥n, ejecuci√≥n y cierre","Cuatro fases: an√°lisis, dise√±o, ejecuci√≥n y reporte"],correct:1},
            {id:11,module:"m1",category:"Verificaci√≥n",question:"Durante la fase de verificaci√≥n, el equipo t√©cnico comprueba que:",options:["El software satisface las expectativas de negocio del usuario final","El sistema se construy√≥ bien","El software cumple con los criterios de aceptaci√≥n definidos por el PO","El sistema integra correctamente con los sistemas existentes"],correct:1},
            {id:12,module:"m1",category:"Validaci√≥n",question:"Durante la fase de validaci√≥n, el Product Owner comprueba que:",options:["El c√≥digo cumple con los est√°ndares de calidad definidos por el equipo t√©cnico","Se construy√≥ un buen sistema (cubre las necesidades del usuario)","El sistema pasa todas las pruebas automatizadas definidas","El software cumple con los requisitos no funcionales especificados"],correct:1},
            {id:13,module:"m1",category:"Requisitos Funcionales",question:"Los requisitos funcionales de un sistema especifican:",options:["Las restricciones t√©cnicas bajo las cuales debe operar el sistema","Las acciones que el sistema debe habilitar","Los niveles de servicio que el sistema debe mantener","Las interfaces que el sistema debe exponer a otros sistemas"],correct:1},
            {id:14,module:"m1",category:"Requisitos No Funcionales",question:"Los requisitos no funcionales especifican las condiciones en las que el sistema deber√° operar, como:",options:["Las funcionalidades cr√≠ticas del negocio que deben estar disponibles","Rendimiento, seguridad, accesibilidad","Los flujos de trabajo principales que los usuarios ejecutar√°n","Las integraciones con sistemas externos que deben funcionar"],correct:1},
            {id:15,module:"m1",category:"Happy Paths",question:"Durante el proceso de testing, ¬øes suficiente probar √∫nicamente escenarios de √©xito esperados o 'happy paths'?",options:["S√≠, siempre que se incluyan los escenarios cr√≠ticos del negocio","No, tambi√©n se deben probar caminos alternos y situaciones de error","S√≠, si el tiempo de testing es limitado y se priorizan los casos m√°s importantes","Depende de la criticidad del sistema y los requisitos del cliente"],correct:1},
            {id:16,module:"m1",category:"Defectos Ocultos",question:"¬øD√≥nde suelen 'ocultarse' los defectos seg√∫n el documento?",options:["En las integraciones entre m√≥dulos del sistema","En caminos alternos y situaciones de error","En las funcionalidades m√°s complejas del sistema","En el c√≥digo legacy que no ha sido refactorizado"],correct:1},
            {id:17,module:"m1",category:"Defecto Definici√≥n",question:"Un defecto en software se define como:",options:["Una desviaci√≥n del comportamiento esperado seg√∫n el criterio del usuario","Un paso, proceso o definici√≥n de datos incorrecto","Una funcionalidad que no cumple con los est√°ndares de usabilidad","Un componente que presenta problemas de rendimiento bajo carga"],correct:1},
            {id:18,module:"m1",category:"Testing Obligatorio",question:"¬øEl proceso de testing es opcional en el Grupo BBVA?",options:["S√≠, depende de la criticidad del proyecto seg√∫n DORA","No, la Norma de testing obliga a pasar exhaustivos procesos de testing","Solo es obligatorio para proyectos clasificados como cr√≠ticos por seguridad","Depende de si el proyecto afecta sistemas regulados por SOX"],correct:1},
            {id:19,module:"m1",category:"IA Testing",question:"¬øLas herramientas de IA como GitHub Copilot eliminan la necesidad de testing?",options:["S√≠, porque la IA genera c√≥digo m√°s confiable que los desarrolladores humanos","No, dichas herramientas tambi√©n son propensas a cometer errores","Solo para c√≥digo generado que sigue patrones bien establecidos","Depende del nivel de confianza configurado en la herramienta de IA"],correct:1},
            {id:20,module:"m1",category:"P√∫blico Objetivo",question:"¬øCu√°l es el p√∫blico objetivo del curso de Norma de Testing?",options:["√önicamente los equipos de QA y los testers certificados del Grupo","Equipos de desarrollo, QC, App Owners, Release Managers, Change Leads, Service Owners","Los arquitectos de software y los l√≠deres t√©cnicos de cada proyecto","Los gerentes de proyecto y los Product Owners de cada iniciativa"],correct:1},
            {id:21,module:"m1",category:"Objetivo Curso",question:"El objetivo general del curso es comprender y aplicar los principios y directrices de la Norma para asegurar:",options:["La eficiencia operativa y la reducci√≥n de tiempos de entrega del software","La calidad, seguridad y cumplimiento normativo del software","La alineaci√≥n estrat√©gica y el cumplimiento de objetivos de negocio","La optimizaci√≥n de recursos y la mejora continua de procesos"],correct:1},
            {id:22,module:"m1",category:"Verificaci√≥n Frase",question:"La frase que resume la fase de verificaci√≥n es:",options:["Se construy√≥ lo que el usuario necesitaba","El sistema se construy√≥ bien","El sistema cumple con los requisitos especificados","Se validaron los criterios de aceptaci√≥n correctamente"],correct:1},
            {id:23,module:"m1",category:"Validaci√≥n Frase",question:"La frase que resume la fase de validaci√≥n es:",options:["El sistema se construy√≥ conforme a las especificaciones t√©cnicas","Se construy√≥ un buen sistema","El sistema fue verificado por el equipo t√©cnico correctamente","Se completaron todas las pruebas de integraci√≥n exitosamente"],correct:1},
            {id:24,module:"m1",category:"Software Diferenciador",question:"En un mercado cada vez m√°s globalizado y competitivo, el software se ha convertido en:",options:["Un requisito b√°sico para la operaci√≥n de cualquier empresa moderna","Un elemento diferenciador fundamental","Una herramienta esencial para la automatizaci√≥n de procesos internos","Un componente cr√≠tico de la infraestructura tecnol√≥gica empresarial"],correct:1},
            {id:25,module:"m1",category:"Riesgo Econ√≥mico",question:"El riesgo econ√≥mico del creador del software se refiere a:",options:["El costo de mantener el software durante su ciclo de vida completo","Que los usuarios no terminen usando su software porque no cubre sus expectativas","El impacto financiero de los defectos encontrados en producci√≥n","La inversi√≥n perdida si el proyecto se cancela antes de completarse"],correct:1},

            // ========== M√ìDULO 2: INTRODUCCI√ìN A LA NORMA (18 preguntas) ==========
            {id:26,module:"m2",category:"ADN BBVA",question:"En el Grupo BBVA, el testing forma parte de:",options:["Las mejores pr√°cticas recomendadas por el √°rea de tecnolog√≠a","Nuestro ADN","Los est√°ndares de calidad adoptados de la industria financiera","Las directrices establecidas por los reguladores externos"],correct:1},
            {id:27,module:"m2",category:"Objetivo Norma",question:"La Norma de Testing tiene como objetivo establecer:",options:["Los est√°ndares t√©cnicos de calidad para el c√≥digo fuente desarrollado en BBVA","Los principios y directrices que rigen el proceso de testing dentro del Grupo BBVA","Los procedimientos operativos para la gesti√≥n de defectos en el Grupo BBVA","Las m√©tricas de calidad que deben alcanzarse en cada proyecto del Grupo BBVA"],correct:1},
            {id:28,module:"m2",category:"Regulaciones",question:"La Norma de Testing re√∫ne los criterios de distintas regulaciones como:",options:["ISO 27001, ISO 22301, NIST Cybersecurity Framework","DORA, SOX, EBA/GL/2019/4","ITIL v4, COBIT 2019, CMMI","PCI-DSS, GDPR, Ley de Protecci√≥n de Datos"],correct:1},
            {id:29,module:"m2",category:"Prop√≥sito Calidad",question:"Uno de los prop√≥sitos de la Norma es garantizar un nivel adecuado de:",options:["Cobertura de pruebas y trazabilidad de requisitos","Calidad y seguridad","Documentaci√≥n y cumplimiento de procesos","Automatizaci√≥n y eficiencia operativa"],correct:1},
            {id:30,module:"m2",category:"Prop√≥sito Requisitos",question:"La Norma busca asegurar el cumplimiento de:",options:["Los est√°ndares de codificaci√≥n establecidos por el equipo de arquitectura","Los requisitos esperados","Los acuerdos de nivel de servicio con las √°reas de negocio","Los compromisos de entrega acordados con los stakeholders"],correct:1},
            {id:31,module:"m2",category:"Prop√≥sito Defectos",question:"La Norma busca prevenir la introducci√≥n de defectos que comprometan:",options:["La eficiencia del equipo de desarrollo y los tiempos de entrega","La estabilidad de las aplicaciones y la integridad de la informaci√≥n","El presupuesto asignado al proyecto y los recursos disponibles","La satisfacci√≥n del cliente y la adopci√≥n del producto"],correct:1},
            {id:32,module:"m2",category:"Pilar Estrat√©gico",question:"La Norma de Testing es considerada en BBVA como:",options:["Una gu√≠a t√©cnica para estandarizar las pr√°cticas de testing","Un pilar estrat√©gico para proteger la confianza de los clientes","Un marco de referencia para cumplir con requisitos regulatorios","Un documento normativo para alinear a los equipos de desarrollo"],correct:1},
            {id:33,module:"m2",category:"Alcance Desarrollo Propio",question:"Los desarrollos propios BBVA son soluciones donde BBVA asume:",options:["La responsabilidad de las fases de dise√±o y desarrollo del SDLC","La responsabilidad total en todas las fases del SDLC","La responsabilidad de las pruebas y el despliegue a producci√≥n","La responsabilidad de la operaci√≥n y el mantenimiento del sistema"],correct:1},
            {id:34,module:"m2",category:"Alcance Terceros",question:"Los componentes software de terceros integrados en desarrollos propios BBVA son:",options:["Librer√≠as de c√≥digo abierto utilizadas en el desarrollo interno","Piezas de software que se compran de proveedores externos y se integran","Servicios cloud contratados para complementar la infraestructura","APIs externas consumidas por las aplicaciones de BBVA"],correct:1},
            {id:35,module:"m2",category:"Sistemas TIC",question:"El testing de software asegura que el software de los sistemas TIC funcione de manera:",options:["Conforme a los est√°ndares t√©cnicos y requisitos de arquitectura de BBVA","Efectiva, segura y alineada con los objetivos estrat√©gicos y operativos de BBVA","√ìptima en t√©rminos de rendimiento y utilizaci√≥n de recursos de infraestructura","Integrada con los dem√°s sistemas y servicios tecnol√≥gicos del Grupo"],correct:1},
            {id:36,module:"m2",category:"Tipos Software",question:"El alcance de la Norma incluye el testing de:",options:["Solo desarrollos propios BBVA que sean clasificados como cr√≠ticos","Solo componentes de terceros integrados en sistemas regulados","Desarrollos propios BBVA y componentes de terceros integrados","Solo sistemas legacy que requieran modernizaci√≥n tecnol√≥gica"],correct:2},
            {id:37,module:"m2",category:"Documento √önico",question:"La Norma de Testing re√∫ne en un √∫nico documento todos los criterios de:",options:["Los est√°ndares de calidad adoptados por la industria financiera global","Las distintas regulaciones que impactan al Grupo BBVA respecto al testing","Las mejores pr√°cticas de testing reconocidas internacionalmente","Los frameworks de testing utilizados por empresas l√≠deres del sector"],correct:1},
            {id:38,module:"m2",category:"Confianza Clientes",question:"La Norma de Testing protege:",options:["Los activos tecnol√≥gicos y la propiedad intelectual del Grupo BBVA","La confianza de nuestros clientes y la solidez de nuestras operaciones","La inversi√≥n realizada en desarrollo y la rentabilidad de los proyectos","Los datos sensibles y el cumplimiento de regulaciones de privacidad"],correct:1},
            {id:39,module:"m2",category:"Est√°ndares",question:"Al desarrollar software, la Norma asegura que cumplimos con:",options:["Las metodolog√≠as √°giles y pr√°cticas de DevOps establecidas","Est√°ndares t√©cnicos y regulatorios","Los acuerdos de nivel de servicio y compromisos contractuales","Las expectativas de los usuarios y requisitos de usabilidad"],correct:1},
            {id:40,module:"m2",category:"Defectos Tipo",question:"La Norma busca prevenir la introducci√≥n de defectos ya sea de manera:",options:["T√©cnica o funcional seg√∫n el tipo de componente afectado","Involuntaria o voluntaria","Cr√≠tica o no cr√≠tica seg√∫n el impacto en el sistema","Detectable o no detectable durante las pruebas"],correct:1},
            {id:41,module:"m2",category:"Testing Conjunto",question:"El testing de software es un conjunto de:",options:["T√©cnicas y herramientas para la detecci√≥n temprana de defectos","Acciones y actividades para asegurar que el software funcione correctamente","Procesos y procedimientos para la gesti√≥n del ciclo de vida del software","Est√°ndares y m√©tricas para la evaluaci√≥n de la calidad del c√≥digo"],correct:1},
            {id:42,module:"m2",category:"Objetivos Estrat√©gicos",question:"El software debe estar alineado con los objetivos:",options:["T√©cnicos y arquitect√≥nicos del √°rea de sistemas de BBVA","Estrat√©gicos y operativos de BBVA","Financieros y presupuestarios de cada unidad de negocio","Regulatorios y de cumplimiento establecidos por los supervisores"],correct:1},
            {id:43,module:"m2",category:"SDLC Responsabilidad",question:"En desarrollos propios, BBVA asume la responsabilidad total en todas las fases del:",options:["Proceso de gesti√≥n de cambios y despliegue a producci√≥n","SDLC","Ciclo de vida de gesti√≥n de incidentes y problemas","Marco de trabajo de desarrollo √°gil implementado"],correct:1},

            // ========== M√ìDULO 3: PRINCIPIOS FUNDAMENTALES (21 preguntas) ==========
            {id:44,module:"m3",category:"Cantidad Principios",question:"¬øCu√°ntos principios fundamentales tiene la Norma de Testing?",options:["5 principios que cubren aspectos t√©cnicos y regulatorios","6 principios enfocados en calidad y eficiencia","7 principios que establecen el marco de referencia","8 principios distribuidos entre t√©cnicos y de gesti√≥n"],correct:2},
            {id:45,module:"m3",category:"Marco Referencia",question:"Los principios de la Norma establecen:",options:["Las directrices t√©cnicas espec√≠ficas para cada tipo de prueba","Un marco de referencia √∫nico respecto al proceso de testing en el Grupo BBVA","Los est√°ndares de calidad que deben cumplir todos los entregables","Las m√©tricas obligatorias para medir la efectividad del testing"],correct:1},
            {id:46,module:"m3",category:"Prevalencia Legal",question:"El principio de prevalencia legal y regulatoria establece que en caso de conflictos:",options:["Se aplicar√° la regulaci√≥n m√°s reciente en vigor","Se aplicar√° la regulaci√≥n de mayor rango","Se consultar√° con el √°rea legal para determinar la aplicable","Se aplicar√° la regulaci√≥n espec√≠fica del pa√≠s donde opera"],correct:1},
            {id:47,module:"m3",category:"Concurrencia",question:"El principio de concurrencia/solapamiento establece que en caso de conflictos:",options:["Se aplicar√° la que tenga mayor alcance geogr√°fico","Se aplicar√° la m√°s restrictiva","Se aplicar√° la que mejor se alinee con los objetivos de negocio","Se aplicar√° la que tenga precedente de aplicaci√≥n previa"],correct:1},
            {id:48,module:"m3",category:"Viabilidad T√©cnica",question:"Seg√∫n el principio de viabilidad t√©cnica, si no es viable t√©cnicamente ejecutar un tipo de prueba:",options:["Se debe buscar una alternativa t√©cnica equivalente que cumpla el objetivo","Podr√≠a no ejecutarse, documentando el motivo como excepci√≥n","Se debe escalar a arquitectura para evaluar cambios en el dise√±o","Se debe incluir en el backlog t√©cnico para implementaci√≥n futura"],correct:1},
            {id:49,module:"m3",category:"Viabilidad Econ√≥mica",question:"Seg√∫n el principio de viabilidad econ√≥mica, si no es viable econ√≥micamente ejecutar un tipo de prueba:",options:["Se debe solicitar presupuesto adicional justificando el valor de la prueba","Podr√≠a no ejecutarse, documentando el motivo e implementando controles compensatorios","Se debe priorizar seg√∫n el an√°lisis costo-beneficio del proyecto","Se debe trasladar al siguiente ciclo de presupuesto disponible"],correct:1},
            {id:50,module:"m3",category:"Proporcionalidad",question:"El principio de proporcionalidad basado en riesgo/criticidad establece que:",options:["El esfuerzo de testing debe ser proporcional al presupuesto del proyecto","Cuanto m√°s cr√≠tico es un sistema, m√°s riguroso deber√° ser el testing","La cantidad de pruebas debe ser proporcional al tama√±o del equipo","El nivel de automatizaci√≥n debe ser proporcional a la complejidad t√©cnica"],correct:1},
            {id:51,module:"m3",category:"Automatizaci√≥n",question:"El principio de m√°xima automatizaci√≥n establece que se priorizar√°:",options:["La automatizaci√≥n de pruebas de regresi√≥n sobre otras tipolog√≠as","La creaci√≥n de pruebas autom√°ticas y mecanismos automatizados frente a procedimientos manuales","La implementaci√≥n de pipelines CI/CD para todos los proyectos","La adopci√≥n de herramientas de automatizaci√≥n est√°ndar del mercado"],correct:1},
            {id:52,module:"m3",category:"Shift-Left",question:"El principio de 'shift-left' establece que el testing debe hacerse:",options:["Antes de la integraci√≥n con otros sistemas del ecosistema","Desde las fases m√°s tempranas del SDLC","Previo al despliegue en entornos de preproducci√≥n","Durante la fase de dise√±o t√©cnico del sistema"],correct:1},
            {id:53,module:"m3",category:"Shift-Left Traducci√≥n",question:"¬øQu√© significa 'shift-left' en espa√±ol?",options:["Anticipaci√≥n de pruebas","Desplazamiento a la izquierda","Pruebas tempranas","Validaci√≥n anticipada"],correct:1},
            {id:54,module:"m3",category:"Excepciones",question:"Cuando no es viable ejecutar un tipo de prueba, se debe documentar el motivo como:",options:["Una desviaci√≥n del proceso est√°ndar de testing","Una excepci√≥n a la Norma","Un riesgo aceptado por el proyecto","Una limitaci√≥n t√©cnica del sistema"],correct:1},
            {id:55,module:"m3",category:"Controles Compensatorios",question:"Al documentar una excepci√≥n a la Norma, siempre que sea posible se debe:",options:["Establecer un plan de acci√≥n para eliminar la excepci√≥n en el futuro","Implementar controles compensatorios para mitigar los riesgos","Notificar a los stakeholders afectados sobre la excepci√≥n documentada","Incluir la excepci√≥n en el registro de riesgos del proyecto"],correct:1},
            {id:56,module:"m3",category:"Sistema Cr√≠tico",question:"Seg√∫n el principio de proporcionalidad, un sistema bancario cr√≠tico requiere:",options:["El mismo testing que cualquier sistema pero con mayor documentaci√≥n","Testing m√°s riguroso que sistemas no cr√≠ticos","Mayor cobertura de pruebas automatizadas que sistemas est√°ndar","Validaci√≥n adicional por parte de equipos externos de auditor√≠a"],correct:1},
            {id:57,module:"m3",category:"Pruebas Autom√°ticas",question:"¬øQu√© se prioriza seg√∫n el principio de m√°xima automatizaci√≥n?",options:["Pruebas de regresi√≥n y pruebas de humo automatizadas","Pruebas autom√°ticas y mecanismos automatizados","Pipelines de integraci√≥n continua y despliegue continuo","Herramientas de an√°lisis est√°tico y din√°mico de c√≥digo"],correct:1},
            {id:58,module:"m3",category:"Beneficio Shift-Left",question:"¬øCu√°l es el beneficio principal del principio 'shift-left'?",options:["Reducir el tiempo total del ciclo de desarrollo de software","Encontrar y corregir problemas lo antes posible","Mejorar la colaboraci√≥n entre equipos de desarrollo y QA","Aumentar la cobertura de pruebas automatizadas del sistema"],correct:1},
            {id:59,module:"m3",category:"Principio 1",question:"El primer principio de la Norma es:",options:["Proporcionalidad basada en riesgo y criticidad del sistema","Prevalencia legal y regulatoria","Viabilidad t√©cnica y econ√≥mica de las pruebas","Concurrencia y solapamiento de regulaciones"],correct:1},
            {id:60,module:"m3",category:"Principio 6",question:"El sexto principio de la Norma es:",options:["Viabilidad t√©cnica de las pruebas planificadas","Proporcionalidad basada en criticidad del sistema","M√°xima automatizaci√≥n","Desplazamiento a la izquierda o shift-left"],correct:2},
            {id:61,module:"m3",category:"Principio 7",question:"El s√©ptimo y √∫ltimo principio de la Norma es:",options:["M√°xima automatizaci√≥n de pruebas y procesos","Proporcionalidad basada en riesgo del sistema","Desplazamiento a la izquierda o 'shift-left'","Viabilidad econ√≥mica de las pruebas planificadas"],correct:2},
            {id:62,module:"m3",category:"Conflicto Mayor Rango",question:"Si hay conflicto entre regulaciones, ¬øqu√© principio aplica la de mayor rango?",options:["Concurrencia/solapamiento","Prevalencia legal y regulatoria","Proporcionalidad basada en criticidad","Viabilidad t√©cnica y econ√≥mica"],correct:1},
            {id:63,module:"m3",category:"Conflicto Restrictiva",question:"Si hay conflicto entre regulaciones, ¬øqu√© principio aplica la m√°s restrictiva?",options:["Prevalencia legal y regulatoria","Concurrencia/solapamiento","Proporcionalidad basada en riesgo","M√°xima automatizaci√≥n"],correct:1},
            {id:64,module:"m3",category:"Documentar Inviabilidad",question:"La inviabilidad t√©cnica o econ√≥mica debe documentarse como:",options:["Un riesgo aceptado en el registro de riesgos del proyecto","Una excepci√≥n a la Norma","Una desviaci√≥n del plan de pruebas aprobado","Una limitaci√≥n identificada en el alcance del testing"],correct:1},

            // ========== M√ìDULO 4: DIRECTRICES (57 preguntas) ==========
            {id:65,module:"m4",category:"Probar Antes Producci√≥n",question:"Todo software desarrollado en BBVA debe ser probado:",options:["Previamente a su pase a producci√≥n, solo para versiones mayores y cr√≠ticas","Previamente a su pase a producci√≥n, sin importar versi√≥n o naturaleza","Previamente a su pase a producci√≥n, excepto correctivos menores","Previamente a su pase a producci√≥n, seg√∫n la criticidad determinada por DORA"],correct:1},
            {id:66,module:"m4",category:"Evolutivo",question:"Un evolutivo software es:",options:["Un cambio en la arquitectura t√©cnica del sistema existente","Cada entrega incremental de c√≥digo/funcionalidad","Una actualizaci√≥n de las librer√≠as y dependencias del sistema","Un cambio en la configuraci√≥n del entorno de producci√≥n"],correct:1},
            {id:67,module:"m4",category:"Correctivo",question:"Un correctivo es una entrega cuya finalidad es:",options:["Implementar mejoras de rendimiento identificadas en producci√≥n","Corregir errores detectados en versiones anteriores","Actualizar componentes de terceros con vulnerabilidades conocidas","Ajustar configuraciones para optimizar el comportamiento del sistema"],correct:1},
            {id:68,module:"m4",category:"Validaci√≥n Requerimientos",question:"El objetivo de validaci√≥n de requerimientos asegura que la soluci√≥n hace exactamente:",options:["Lo que el equipo t√©cnico dise√±√≥ en la arquitectura","Lo que se pidi√≥","Lo que el usuario final espera basado en su experiencia previa","Lo que los criterios de aceptaci√≥n t√©cnicos especifican"],correct:1},
            {id:69,module:"m4",category:"Verificaci√≥n T√©cnica",question:"La verificaci√≥n t√©cnica confirma que el software cumple con:",options:["Los requisitos funcionales especificados por el Product Owner","Los est√°ndares internos de operaci√≥n y seguridad en BBVA","Las expectativas de rendimiento definidas en los SLAs","Los criterios de aceptaci√≥n acordados con el √°rea de negocio"],correct:1},
            {id:70,module:"m4",category:"CUC",question:"¬øQu√© es el Centro √önico de Conocimiento (CUC)?",options:["Una plataforma de gesti√≥n del conocimiento para equipos de desarrollo","El almacenamiento y respaldo de documentaci√≥n del Checklist de Validaci√≥n T√©cnica","Un repositorio centralizado de mejores pr√°cticas de testing","Una herramienta de colaboraci√≥n para la gesti√≥n de proyectos"],correct:1},
            {id:71,module:"m4",category:"Trazabilidad",question:"La trazabilidad del requerimiento implica registrar:",options:["El historial de cambios del c√≥digo fuente y sus revisiones","Requerimiento, pruebas dise√±adas/ejecutadas, resultados e identificador del cambio","Los responsables de cada fase del desarrollo y sus aprobaciones","Las dependencias entre componentes y sus versiones desplegadas"],correct:1},
            {id:72,module:"m4",category:"C204",question:"El documento C204 en BBVA M√©xico es:",options:["El formato est√°ndar de documentaci√≥n de arquitectura t√©cnica","El formato est√°ndar de matriz de casos de prueba","El formato est√°ndar de especificaci√≥n de requisitos funcionales","El formato est√°ndar de plan de despliegue a producci√≥n"],correct:1},
            {id:73,module:"m4",category:"C204 Contenido",question:"El documento C204 contiene informaci√≥n como:",options:["Arquitectura t√©cnica, diagramas de flujo, especificaciones de interfaz y APIs","Fechas, maquetas, ligas de Jira, casos de prueba, defectos y evidencias","Requisitos funcionales, criterios de aceptaci√≥n, historias de usuario y √©picas","Plan de proyecto, cronograma, recursos asignados y dependencias"],correct:1},
            {id:74,module:"m4",category:"Plan Pruebas",question:"El Plan de Pruebas Estrat√©gico es de cumplimiento:",options:["Recomendado para proyectos de alta criticidad seg√∫n DORA","Obligatorio","Opcional pero fuertemente sugerido para sistemas regulados","Condicional seg√∫n el alcance y complejidad del proyecto"],correct:1},
            {id:75,module:"m4",category:"Tipos Pruebas Plan",question:"El Plan de Pruebas Estrat√©gico exige planeaci√≥n detallada de:",options:["5 tipos de pruebas fundamentales para todo desarrollo","7 tipos de pruebas seg√∫n la criticidad del sistema","10 tipos de pruebas","3 tipos de pruebas m√≠nimas obligatorias"],correct:2},
            {id:76,module:"m4",category:"Generador Plan",question:"¬øQui√©n debe generar el Plan de Pruebas Estrat√©gico en la fase de Dise√±o?",options:["El l√≠der t√©cnico del equipo de desarrollo en colaboraci√≥n con QA","El App Owner Principal en colaboraci√≥n con los App Owners de servicios N2","El Service Owner con apoyo del equipo de arquitectura","El Scrum Master junto con el Product Owner del proyecto"],correct:1},
            {id:77,module:"m4",category:"Plan Actualizaci√≥n",question:"El Plan de Pruebas Estrat√©gico debe mantenerse actualizado:",options:["Principalmente durante las fases de dise√±o y desarrollo del SDLC","A lo largo de todas las etapas del SDLC","Durante las fases de pruebas y despliegue del SDLC","Al inicio y al cierre de cada iteraci√≥n o sprint"],correct:1},
            {id:78,module:"m4",category:"Requisitos Cr√≠ticos",question:"El plan de pruebas debe asegurar la cobertura de todos los requisitos considerados:",options:["Funcionales seg√∫n la especificaci√≥n del Product Owner","Cr√≠ticos o relevantes","De alta prioridad seg√∫n el backlog del producto","T√©cnicos seg√∫n los est√°ndares de arquitectura"],correct:1},
            {id:79,module:"m4",category:"Operativa Relevante",question:"Una operativa relevante es aquella que sin su funcionamiento:",options:["El sistema presentar√≠a degradaci√≥n en su rendimiento general","El servicio perder√≠a uno de sus principales cometidos","Los usuarios experimentar√≠an inconvenientes menores en su operaci√≥n","El sistema requerir√≠a intervenci√≥n manual para completar procesos"],correct:1},
            {id:80,module:"m4",category:"Ejemplo Operativa",question:"Un ejemplo de operativa relevante en banca m√≥vil ser√≠a:",options:["La visualizaci√≥n del historial de movimientos de la cuenta","El env√≠o de transferencias","La consulta de promociones y ofertas disponibles","La actualizaci√≥n de datos de contacto del usuario"],correct:1},
            {id:81,module:"m4",category:"CIDA",question:"Las etiquetas CIDA se refieren a:",options:["C√≥digo, Integraci√≥n, Datos, Arquitectura del sistema","Continuidad de negocio, Confidencialidad, Integridad, Autenticidad","Control, Informaci√≥n, Disponibilidad, Accesibilidad del servicio","Calidad, Integridad, Disponibilidad, Autenticaci√≥n del sistema"],correct:1},
            {id:82,module:"m4",category:"Criterios Operativa",question:"Una operativa puede ser relevante si es de las m√°s usadas del sistema o si:",options:["Tiene dependencias cr√≠ticas con otros sistemas del ecosistema","Es propensa a fallos","Procesa informaci√≥n sensible de los clientes","Est√° sujeta a requisitos regulatorios espec√≠ficos"],correct:1},
            {id:83,module:"m4",category:"Pruebas Operativas",question:"Las operativas relevantes debieran probarse en t√©rminos de:",options:["Cobertura de c√≥digo, complejidad ciclom√°tica y deuda t√©cnica","Profundidad, volumen de pruebas y frecuencia","Automatizaci√≥n, documentaci√≥n y trazabilidad","Criticidad, impacto y probabilidad de fallo"],correct:1},
            {id:84,module:"m4",category:"Entornos Previos",question:"Las pruebas se deben realizar en:",options:["Entornos de desarrollo con datos sint√©ticos generados","Entornos previos","Entornos de staging con r√©plica de producci√≥n","Entornos aislados con configuraci√≥n de producci√≥n"],correct:1},
            {id:85,module:"m4",category:"Pruebas Producci√≥n",question:"Realizar pruebas en entornos de producci√≥n:",options:["Es permitido solo para pruebas de humo post-despliegue","NO es pr√°ctica habitual, debe gestionarse como excepci√≥n","Es aceptable para validaciones de rendimiento bajo carga real","Es requerido para pruebas de aceptaci√≥n de usuario final"],correct:1},
            {id:86,module:"m4",category:"Datos Reales",question:"Usar datos reales (especialmente sensibles) en entornos de prueba:",options:["Es aceptable si se cuenta con autorizaci√≥n del √°rea de seguridad","No es una pr√°ctica recomendada porque no tienen la misma seguridad","Es permitido bajo estrictos controles de acceso y auditor√≠a","Es necesario para garantizar la validez de las pruebas funcionales"],correct:1},
            {id:87,module:"m4",category:"HAD",question:"¬øQu√© herramienta descarga y enmascara datos de producci√≥n a entornos previos?",options:["DataMask","HAD","Delphix","Informatica"],correct:1},
            {id:88,module:"m4",category:"Enmascaramiento",question:"El enmascaramiento o anonimizaci√≥n consiste en:",options:["Encriptar los datos sensibles para protegerlos durante las pruebas","Modificar los datos para que no se pueda identificar a las personas reales","Eliminar los campos sensibles de los registros de prueba","Restringir el acceso a los datos solo al personal autorizado"],correct:1},
            {id:89,module:"m4",category:"Seguridad Equivalente",question:"Si no se pueden enmascarar los datos, el entorno de prueba debe tener:",options:["Controles de acceso m√°s restrictivos que producci√≥n","Las mismas medidas de seguridad que producci√≥n","Monitoreo continuo de acceso a datos sensibles","Segregaci√≥n de red adicional respecto a otros entornos"],correct:1},
            {id:90,module:"m4",category:"Tiempo Limitado",question:"Los datos reales en entornos de prueba deben eliminarse:",options:["Seg√∫n el cronograma de retenci√≥n de datos establecido","Una vez finalizadas las pruebas","Al completarse el ciclo de desarrollo del proyecto","Cuando el espacio de almacenamiento lo requiera"],correct:1},
            {id:91,module:"m4",category:"Caso Insatisfactorio",question:"Un caso de prueba se considera insatisfactorio cuando:",options:["El tiempo de ejecuci√≥n excede el umbral definido en el plan","La ejecuci√≥n no termina, se interrumpe, o el resultado no es el esperado","La cobertura de c√≥digo no alcanza el m√≠nimo establecido","El caso no puede reproducirse de manera consistente"],correct:1},
            {id:92,module:"m4",category:"Gesti√≥n Error Corregido",question:"Un error gestionado como 'corregido' significa que:",options:["El error fue identificado y asignado al desarrollador responsable","La causa del error se elimina y la prueba pasa correctamente","El error fue documentado con su an√°lisis de causa ra√≠z","El error fue mitigado con una soluci√≥n temporal en producci√≥n"],correct:1},
            {id:93,module:"m4",category:"Gesti√≥n Error Falso Positivo",question:"Un error marcado como 'falso positivo' significa que:",options:["El error solo se presenta en condiciones espec√≠ficas de prueba","Se comprueba que no era un error real","El error es causado por datos de prueba incorrectos","El error no es reproducible en el entorno de desarrollo"],correct:1},
            {id:94,module:"m4",category:"Gesti√≥n Error Asumido",question:"Un error 'asumido' significa que:",options:["El error ser√° corregido en una versi√≥n futura del sistema","Se confirma el error pero se decide que su impacto es m√≠nimo o tolerable","El error est√° siendo analizado para determinar su causa ra√≠z","El error fue transferido a otro equipo para su resoluci√≥n"],correct:1},
            {id:95,module:"m4",category:"Responsable Asumir Error",question:"La decisi√≥n de asumir un error recae bajo la responsabilidad del:",options:["Product Owner del proyecto","Service Owner","L√≠der t√©cnico del equipo de desarrollo","Gerente del √°rea de QA"],correct:1},
            {id:96,module:"m4",category:"Criticidad Defecto",question:"Al registrar un defecto, el PO/App Owner y desarrollador determinan su criticidad como:",options:["Cr√≠tica, Mayor, Menor o Trivial seg√∫n el impacto","Alta, Media o Baja","Bloqueante, Severa, Moderada o Leve seg√∫n urgencia","P1, P2, P3 o P4 seg√∫n prioridad de resoluci√≥n"],correct:1},
            {id:97,module:"m4",category:"Bugs JIRA",question:"Al t√©rmino de las pruebas del C204, los fallos se registran en Jira como:",options:["Tasks con etiqueta de defecto","Stories con criterios de aceptaci√≥n fallidos","Bugs","Issues con tipo incidencia"],correct:2},
            {id:98,module:"m4",category:"FDS",question:"FDS (Frontline Development Support) es el proceso global para:",options:["Soporte de primer nivel a usuarios finales de aplicaciones","Gesti√≥n de incidentes en Entornos Previos (EEPP)","Atenci√≥n de consultas t√©cnicas de equipos de desarrollo","Resoluci√≥n de problemas en pipelines de integraci√≥n continua"],correct:1},
            {id:99,module:"m4",category:"Incidencia Definici√≥n",question:"Una 'incidencia' se define como cualquier interrupci√≥n:",options:["Identificada en el c√≥digo fuente durante revisiones de calidad","Parcial o total, no planificada de un servicio de TI","Reportada por usuarios en los canales de atenci√≥n al cliente","Detectada por las herramientas de monitoreo de infraestructura"],correct:1},
            {id:100,module:"m4",category:"Helix",question:"¬øCu√°l es la herramienta principal para gesti√≥n de tickets de incidentes (INC)?",options:["ServiceNow","Helix","JIRA Service Management","Remedy ITSM"],correct:1},
            {id:101,module:"m4",category:"Deuda T√©cnica",question:"La deuda t√©cnica surge de:",options:["Requisitos cambiantes que no fueron contemplados en el dise√±o original","Atajos o problemas de calidad pospuestos","Limitaciones de las herramientas y frameworks utilizados","Rotaci√≥n del equipo y p√©rdida de conocimiento del sistema"],correct:1},
            {id:102,module:"m4",category:"Deuda T√©cnica Gesti√≥n",question:"La deuda t√©cnica debe:",options:["Documentarse y priorizarse seg√∫n el impacto en el negocio","Gestionarse y saldarse en lugar de acumularse indefinidamente","Revisarse peri√≥dicamente junto con el backlog del producto","Asignarse a sprints espec√≠ficos de mantenimiento t√©cnico"],correct:1},
            {id:103,module:"m4",category:"Responsable Deuda",question:"¬øQui√©n es el responsable final de la deuda t√©cnica?",options:["El arquitecto de software del sistema","El Product Owner (o Service Owner para mantenimientos)","El l√≠der t√©cnico del equipo de desarrollo","El gerente del √°rea de tecnolog√≠a"],correct:1},
            {id:104,module:"m4",category:"Acumulaci√≥n Deuda",question:"La acumulaci√≥n de deuda t√©cnica con el tiempo vuelve al software:",options:["M√°s dif√≠cil de mantener y actualizar por equipos nuevos","Inestable, conduce a insatisfacci√≥n del usuario y puede llevar a un incidente productivo","Menos escalable y m√°s costoso de operar en infraestructura","M√°s vulnerable a ataques de seguridad y brechas de datos"],correct:1},
            {id:105,module:"m4",category:"Evidencias Obligatorio",question:"El registro y almac√©n de evidencias de todas las pruebas es:",options:["Recomendado para facilitar auditor√≠as y revisiones","Obligatorio","Opcional pero √∫til para an√°lisis de causa ra√≠z","Requerido solo para sistemas regulados por SOX"],correct:1},
            {id:106,module:"m4",category:"Retenci√≥n General",question:"El tiempo de retenci√≥n general de evidencias es:",options:["M√≠nimo 6 meses o hasta el siguiente release mayor","M√≠nimo 3 meses o las √∫ltimas 10 ejecuciones","M√≠nimo 1 a√±o o seg√∫n pol√≠tica de retenci√≥n de datos","Indefinido para sistemas cr√≠ticos del negocio"],correct:1},
            {id:107,module:"m4",category:"Retenci√≥n DORA SOX",question:"Para sistemas bajo DORA o SOX, el tiempo de retenci√≥n de evidencias es:",options:["M√≠nimo 6 meses seg√∫n requisitos de trazabilidad","M√≠nimo 24 meses para cumplir con auditor√≠as externas","M√≠nimo 12 meses (por requisitos de auditor√≠a)","M√≠nimo 36 meses seg√∫n normativa de retenci√≥n documental"],correct:2},
            {id:108,module:"m4",category:"Administrador Evidencias",question:"¬øQui√©nes deben ser los administradores de las carpetas con evidencias?",options:["Los l√≠deres t√©cnicos y arquitectos del sistema","El Service Owner y App Owners","Los responsables de QA y el Scrum Master","El Release Manager y el Change Lead"],correct:1},
            {id:109,module:"m4",category:"Acceso Evidencias",question:"El acceso general a las evidencias debe quedar como:",options:["P√∫blico dentro del equipo de proyecto","Restringido","Abierto para revisi√≥n de cualquier interesado","Controlado por el administrador del repositorio"],correct:1},
            {id:110,module:"m4",category:"Riesgos Terceros",question:"Los componentes de software de terceros pueden introducir riesgos si:",options:["No cuentan con documentaci√≥n t√©cnica adecuada para integraci√≥n","Est√°n obsoletos o han sido modificados maliciosamente (code tampering)","No tienen soporte activo del fabricante o comunidad","No han sido validados contra los est√°ndares de arquitectura"],correct:1},
            {id:111,module:"m4",category:"SCA",question:"SCA (Software Composition Analysis) sirve para:",options:["Analizar la estructura y dependencias del c√≥digo fuente propio","Identificar riesgos en el c√≥digo de terceros","Evaluar la complejidad y mantenibilidad del c√≥digo desarrollado","Medir la cobertura de pruebas unitarias del sistema"],correct:1},
            {id:112,module:"m4",category:"SAST",question:"SAST (An√°lisis Est√°tico de Seguridad) sirve para:",options:["Verificar que el c√≥digo cumple con los est√°ndares de codificaci√≥n","Buscar vulnerabilidades en el c√≥digo","Analizar el comportamiento del c√≥digo durante su ejecuci√≥n","Identificar c√≥digo duplicado y problemas de dise√±o"],correct:1},
            {id:113,module:"m4",category:"Firmas Integridad",question:"La verificaci√≥n de firmas de integridad asegura que los componentes:",options:["Provienen de fuentes autorizadas y confiables","No han sido manipulados","Cumplen con los requisitos de licenciamiento acordados","Son compatibles con la versi√≥n del sistema actual"],correct:1},
            {id:114,module:"m4",category:"Pruebas Obligatorias",question:"Las pruebas obligatorias para TODOS los desarrollos propios incluyen unitarias, integraci√≥n, regresi√≥n (cuando aplique), an√°lisis est√°tico, aceptaci√≥n y:",options:["Pruebas de seguridad seg√∫n clasificaci√≥n CIDA","Verificaciones postproducci√≥n","Pruebas de rendimiento bajo carga esperada","Pruebas de accesibilidad para interfaces de usuario"],correct:1},
            {id:115,module:"m4",category:"Pruebas Rendimiento Oblig",question:"Las pruebas de rendimiento son obligatorias para desarrollos categorizados como cr√≠ticos por:",options:["Seguridad seg√∫n clasificaci√≥n CIDA del sistema","Disponibilidad seg√∫n DORA","Integridad de datos seg√∫n requisitos regulatorios","Continuidad de negocio seg√∫n an√°lisis de impacto"],correct:1},
            {id:116,module:"m4",category:"Pruebas Accesibilidad Oblig",question:"Las pruebas de accesibilidad son obligatorias para desarrollos dentro del alcance de:",options:["Los est√°ndares WCAG 2.1 adoptados por el Grupo","La Ley y Reglamento de Accesibilidad","Las directrices de dise√±o universal de BBVA","Los requisitos de usabilidad definidos por UX"],correct:1},
            {id:117,module:"m4",category:"Comportamientos Bloqueantes",question:"Para desarrollos cr√≠ticos bajo DORA o SOX, se establecen comportamientos bloqueantes que provocan:",options:["Una notificaci√≥n al Service Owner para revisi√≥n urgente","La interrupci√≥n del circuito de construcci√≥n y despliegue","Un reporte autom√°tico al √°rea de cumplimiento regulatorio","Una alerta al equipo de seguridad para evaluaci√≥n"],correct:1},
            {id:118,module:"m4",category:"Responsabilidad Ejecuci√≥n",question:"La ejecuci√≥n de todos los tipos de pruebas es responsabilidad de:",options:["El √°rea de QA con soporte del equipo de desarrollo","El equipo de desarrollo","El proveedor de testing contratado para el proyecto","El Scrum Team bajo supervisi√≥n del QA Lead"],correct:1},
            {id:119,module:"m4",category:"Release Manager Resp",question:"El Release Manager y el App Owner son responsables de asegurar que las pruebas de verificaci√≥n t√©cnica:",options:["Se documenten adecuadamente en el repositorio de evidencias","Se realicen y superen satisfactoriamente antes de la subida a producci√≥n","Se automaticen para garantizar su ejecuci√≥n consistente","Se revisen por el equipo de arquitectura antes del despliegue"],correct:1},
            {id:120,module:"m4",category:"PO Responsabilidad",question:"El Product Owner es responsable de certificar que:",options:["El c√≥digo cumple con los est√°ndares de calidad del equipo t√©cnico","Todos los requerimientos del usuario han sido probados y se han cumplido los criterios de aceptaci√≥n","Las pruebas de integraci√≥n con sistemas externos fueron exitosas","El plan de pruebas estrat√©gico se ejecut√≥ conforme a lo planificado"],correct:1},
            {id:121,module:"m4",category:"Matriz RACI",question:"La Norma de testing incluye una matriz RACI que detalla:",options:["Las responsabilidades de cada herramienta de testing utilizada","Los roles involucrados tanto para nuevos desarrollos como para mantenimientos","Los tiempos de ejecuci√≥n esperados para cada tipo de prueba","Las m√©tricas de calidad que debe reportar cada rol del equipo"],correct:1},

            // ========== M√ìDULO 5: TIPOLOG√çAS DE PRUEBAS (44 preguntas) ==========
            {id:122,module:"m5",category:"Tipos Pruebas",question:"La Norma establece la planificaci√≥n de cu√°ntos tipos de pruebas por cada Servicio N2:",options:["5 tipos de pruebas fundamentales","7 tipos de pruebas seg√∫n criticidad","10 tipos de pruebas","12 tipos de pruebas seg√∫n regulaci√≥n"],correct:2},
            {id:123,module:"m5",category:"An√°lisis Est√°tico",question:"El an√°lisis est√°tico de c√≥digo se realiza:",options:["Ejecutando el c√≥digo en un entorno controlado de pruebas","Inspeccionando el c√≥digo fuente sin ejecutarlo","Monitoreando el comportamiento del c√≥digo en tiempo real","Analizando los logs generados durante la ejecuci√≥n"],correct:1},
            {id:124,module:"m5",category:"An√°lisis Est√°tico Objetivo",question:"El an√°lisis est√°tico busca detectar problemas como:",options:["Cuellos de botella de rendimiento y uso ineficiente de memoria","C√≥digo duplicado, variables no usadas, errores comunes de programaci√≥n","Vulnerabilidades de seguridad y exposici√≥n de datos sensibles","Problemas de integraci√≥n y dependencias circulares entre m√≥dulos"],correct:1},
            {id:125,module:"m5",category:"An√°lisis Est√°tico Shift Left",question:"El an√°lisis est√°tico es una pr√°ctica de:",options:["Continuous Testing","Shift Left","DevSecOps","Quality Assurance"],correct:1},
            {id:126,module:"m5",category:"SonarQube",question:"¬øQu√© herramienta se menciona para an√°lisis est√°tico en BBVA?",options:["Checkmarx","SonarQube","Fortify","Veracode"],correct:1},
            {id:127,module:"m5",category:"Quality Gate",question:"El resultado del an√°lisis est√°tico debe cumplir con Sonar Quality Gate one-standard que exige:",options:["M√≠nimo 80% cobertura y 0% vulnerabilidades cr√≠ticas","0% Critical Issues, 0% Major Issues, 0% Security Issues","M√°ximo 5% c√≥digo duplicado y 0% bugs bloqueantes","90% cobertura de pruebas y 0% code smells severos"],correct:1},
            {id:128,module:"m5",category:"Bloqueo An√°lisis Est√°tico",question:"La falta de ejecuci√≥n o resultados insatisfactorios en el an√°lisis est√°tico:",options:["Genera una alerta para revisi√≥n del equipo de arquitectura","Bloquean el proceso de construcci√≥n y despliegue del software","Requiere aprobaci√≥n expl√≠cita del Service Owner para continuar","Se documenta como excepci√≥n y se contin√∫a con el proceso"],correct:1},
            {id:129,module:"m5",category:"Defecto Seguridad Media",question:"Cualquier defecto de seguridad de severidad 'Media' o 'Baja' que no se corrija debe ser documentado como:",options:["Riesgo aceptado con plan de mitigaci√≥n definido","Deuda t√©cnica asumida","Excepci√≥n a la Norma con controles compensatorios","Vulnerabilidad conocida con fecha de remediaci√≥n"],correct:1},
            {id:130,module:"m5",category:"Pruebas Unitarias",question:"Las pruebas unitarias verifican:",options:["La interacci√≥n correcta entre m√≥dulos del sistema","El funcionamiento de un componente individual del sistema en aislamiento","El cumplimiento de los requisitos funcionales especificados","La respuesta del sistema ante diferentes escenarios de uso"],correct:1},
            {id:131,module:"m5",category:"Test Doubles",question:"Para aislar el componente bajo prueba en pruebas unitarias, se emplean:",options:["Entornos de sandbox con datos sint√©ticos","Test doubles","Contenedores Docker aislados","Bases de datos en memoria"],correct:1},
            {id:132,module:"m5",category:"Pruebas Unitarias Ejecuci√≥n",question:"Las pruebas unitarias suelen ejecutarse en:",options:["Entornos de calidad previo a las pruebas de integraci√≥n","El entorno local del desarrollador y/o en los pipelines de integraci√≥n continua","Servidores de pruebas dedicados con configuraci√≥n de producci√≥n","Entornos de staging despu√©s de las pruebas de componente"],correct:1},
            {id:133,module:"m5",category:"Cobertura Unitarias",question:"¬øCu√°l es el umbral m√≠nimo de cobertura para pruebas unitarias?",options:["60% de cobertura de c√≥digo","70% de cobertura de l√≠neas","80%","90% de cobertura de branches"],correct:3},
            {id:134,module:"m5",category:"Bloqueo Unitarias",question:"La falta de ejecuci√≥n o resultados insatisfactorios en las pruebas unitarias:",options:["Genera un reporte de calidad para revisi√≥n del equipo","Bloquean el proceso de construcci√≥n y despliegue del software","Requiere justificaci√≥n documentada para proceder","Se escala al l√≠der t√©cnico para decisi√≥n"],correct:1},
            {id:135,module:"m5",category:"Pruebas Integraci√≥n",question:"Las pruebas de integraci√≥n verifican:",options:["El funcionamiento correcto de cada componente de forma aislada","La interacci√≥n entre diferentes m√≥dulos o sistemas cuando se combinan","La respuesta del sistema ante cargas de trabajo esperadas","El cumplimiento de los criterios de aceptaci√≥n del usuario"],correct:1},
            {id:136,module:"m5",category:"Integraci√≥n Objetivo",question:"Las pruebas de integraci√≥n aseguran que el sistema completo funcione como:",options:["Una arquitectura de microservicios bien orquestada","Un todo cohesivo","Un conjunto de APIs correctamente documentadas","Una plataforma escalable y resiliente"],correct:1},
            {id:137,module:"m5",category:"Integraci√≥n Tipo",question:"Las pruebas de integraci√≥n pueden ser:",options:["Solo funcionales o de contrato entre servicios","Manuales o autom√°ticas","Solo de caja negra o caja blanca","Solo s√≠ncronas o as√≠ncronas"],correct:1},
            {id:138,module:"m5",category:"Pruebas Regresi√≥n",question:"Las pruebas de regresi√≥n aseguran que los cambios recientes no han introducido defectos en:",options:["El c√≥digo nuevo que ha sido desarrollado en el sprint","Funcionalidades existentes que antes funcionaban correctamente","Los componentes de terceros integrados en el sistema","Las interfaces con sistemas externos del ecosistema"],correct:1},
            {id:139,module:"m5",category:"Regresi√≥n Automatizaci√≥n",question:"Idealmente, las pruebas de regresi√≥n deber√≠an ser:",options:["Ejecutadas por el equipo de QA de forma exhaustiva","Automatizadas para mayor eficiencia","Priorizadas seg√∫n el impacto del cambio realizado","Dise√±adas para cubrir los escenarios m√°s cr√≠ticos"],correct:1},
            {id:140,module:"m5",category:"Regresi√≥n Obligatoriedad",question:"Las pruebas de regresi√≥n son obligatorias en:",options:["Solo versiones mayores con cambios significativos en funcionalidad","Versiones menores y parches obligatoriamente, y versiones mayores si hay dependencias","Todos los despliegues independientemente del tipo de cambio","Solo cuando se modifican componentes cr√≠ticos del sistema"],correct:1},
            {id:141,module:"m5",category:"Pruebas Aceptaci√≥n",question:"Las pruebas de aceptaci√≥n validan que el software cumple con:",options:["Los est√°ndares t√©cnicos definidos por el equipo de arquitectura","Las necesidades del negocio y los usuarios finales","Los requisitos de rendimiento especificados en los SLAs","Los criterios de seguridad establecidos por el √°rea de InfoSec"],correct:1},
            {id:142,module:"m5",category:"Ejecutor Aceptaci√≥n",question:"Las pruebas de aceptaci√≥n debieran ejecutarse por:",options:["El equipo de QA siguiendo los casos de prueba dise√±ados","El Product Owner (aunque a veces por QA Testers o miembros del equipo)","Los usuarios finales representativos del negocio","El equipo de desarrollo junto con el √°rea de negocio"],correct:1},
            {id:143,module:"m5",category:"Aceptaci√≥n Entorno",question:"Las pruebas de aceptaci√≥n se ejecutan contra entornos con caracter√≠sticas similares a:",options:["Desarrollo con datos sint√©ticos representativos","Producci√≥n","Staging con carga simulada de usuarios","Calidad con integraciones completas"],correct:1},
            {id:144,module:"m5",category:"Aceptaci√≥n Aprobaci√≥n",question:"Para los desarrollos propios de BBVA, ¬øqui√©n debe dar aprobaci√≥n expl√≠cita en pruebas de aceptaci√≥n?",options:["El Service Owner del sistema afectado","El Product Owner","El representante del √°rea de negocio","El l√≠der del equipo de QA"],correct:1},
            {id:145,module:"m5",category:"Pruebas Seguridad",question:"Las pruebas de seguridad eval√∫an el software para identificar:",options:["Problemas de rendimiento que podr√≠an ser explotados por atacantes","Vulnerabilidades y protecci√≥n contra ataques y accesos no autorizados","Debilidades en el cifrado de datos sensibles almacenados","Exposici√≥n de informaci√≥n en logs y mensajes de error"],correct:1},
            {id:146,module:"m5",category:"Seguridad Obligatoriedad",question:"Las pruebas de seguridad son obligatorias para desarrollos cuyos componentes se cataloguen como cr√≠ticos desde el punto de vista de:",options:["Disponibilidad seg√∫n clasificaci√≥n DORA","Seguridad","Integridad de datos seg√∫n normativa de protecci√≥n","Confidencialidad seg√∫n clasificaci√≥n de informaci√≥n"],correct:1},
            {id:147,module:"m5",category:"Hacking √âtico",question:"El Hacking √âtico tiene como objetivo detectar vulnerabilidades que afecten:",options:["El rendimiento y la escalabilidad del sistema bajo ataque","Confidencialidad, integridad o disponibilidad de los datos y activos","La resiliencia del sistema ante fallos de infraestructura","La continuidad del servicio durante incidentes de seguridad"],correct:1},
            {id:148,module:"m5",category:"Pruebas UI",question:"Las pruebas de interfaz de usuario (UI) verifican que:",options:["El dise√±o cumple con los est√°ndares de marca de BBVA","La parte visual y las interacciones funcionan correctamente","Los tiempos de respuesta de la interfaz son aceptables","La accesibilidad cumple con los est√°ndares WCAG"],correct:1},
            {id:149,module:"m5",category:"UI Elementos",question:"Las pruebas de UI verifican que los botones hacen lo que deben, la informaci√≥n se muestra clara, y:",options:["Los formularios validan correctamente los datos ingresados","La navegaci√≥n es intuitiva y la aplicaci√≥n responde como se espera","Los elementos visuales se adaptan a diferentes resoluciones","Los mensajes de error son claros y orientan al usuario"],correct:1},
            {id:150,module:"m5",category:"Performance Testing",question:"Las pruebas de rendimiento/capacidad se centran en:",options:["La funcionalidad correcta bajo diferentes escenarios de uso","Velocidad, estabilidad y eficiencia del software bajo diferentes condiciones","La resiliencia del sistema ante fallos de componentes","La escalabilidad horizontal y vertical de la arquitectura"],correct:1},
            {id:151,module:"m5",category:"Load Testing",question:"Las pruebas de carga (Load Testing) simulan:",options:["Condiciones extremas m√°s all√° de los l√≠mites del sistema","El uso esperado del sistema","Fallos de infraestructura y recuperaci√≥n autom√°tica","Ataques de denegaci√≥n de servicio distribuido"],correct:1},
            {id:152,module:"m5",category:"Stress Testing",question:"Las pruebas de estr√©s (Stress Testing):",options:["Simulan el uso normal durante per√≠odos prolongados","Empujan el sistema m√°s all√° de sus l√≠mites para ver c√≥mo se comporta","Verifican la recuperaci√≥n del sistema despu√©s de fallos","Miden el consumo de recursos bajo carga sostenida"],correct:1},
            {id:153,module:"m5",category:"Capacity Testing",question:"Las pruebas de capacidad (Capacity Testing) determinan:",options:["El costo de infraestructura necesario para soportar la demanda","Cu√°ntos usuarios o transacciones puede manejar el sistema","El tiempo de respuesta promedio bajo carga m√°xima","La degradaci√≥n del rendimiento conforme aumenta la carga"],correct:1},
            {id:154,module:"m5",category:"C√≥digo Ineficiente",question:"La b√∫squeda de c√≥digo ineficiente identifica partes del c√≥digo que podr√≠an:",options:["Refactorizarse para mejorar la legibilidad y mantenibilidad","Optimizarse para ser m√°s r√°pidas","Simplificarse para reducir la complejidad ciclom√°tica","Modularizarse para mejorar la reutilizaci√≥n"],correct:1},
            {id:155,module:"m5",category:"Rendimiento Obligatoriedad",question:"Las pruebas de rendimiento son obligatorias para desarrollos categorizados como cr√≠ticos por disponibilidad seg√∫n:",options:["Los est√°ndares de continuidad de negocio del Grupo","DORA","Los acuerdos de nivel de servicio con el √°rea de negocio","La clasificaci√≥n de criticidad de sistemas de BBVA"],correct:1},
            {id:156,module:"m5",category:"Deployment Quality",question:"¬øQui√©n es responsable de ejecutar las pruebas de rendimiento?",options:["El equipo de desarrollo con soporte del √°rea de infraestructura","Deployment Quality (DQ / Red Team)","El √°rea de QA especializada en pruebas no funcionales","El proveedor de servicios de testing de rendimiento"],correct:1},
            {id:157,module:"m5",category:"Pruebas Accesibilidad",question:"Las pruebas de accesibilidad hacen las aplicaciones accesibles para personas con:",options:["Dificultades para acceder a dispositivos m√≥viles modernos","Discapacidades visuales, auditivas, de movilidad o deficiencias cognitivas","Limitaciones de conectividad o ancho de banda reducido","Poca experiencia en el uso de aplicaciones digitales"],correct:1},
            {id:158,module:"m5",category:"Accesibilidad Obligatoriedad",question:"Las pruebas de accesibilidad son obligatorias para desarrollos declarados en alcance de:",options:["Los est√°ndares WCAG 2.1 AA adoptados por el Grupo BBVA","La Ley y Reglamento de Accesibilidad","Las directrices de dise√±o inclusivo del √°rea de UX","Los requisitos de experiencia de usuario definidos por producto"],correct:1},
            {id:159,module:"m5",category:"Accesibilidad Cambio UI",question:"Las pruebas de accesibilidad aplican siempre que el cambio cree o modifique:",options:["Un componente reutilizable del sistema de dise√±o","Una interfaz de usuario","Un flujo de navegaci√≥n principal de la aplicaci√≥n","Un formulario de captura de datos del usuario"],correct:1},
            {id:160,module:"m5",category:"Verificaci√≥n Postproducci√≥n",question:"La verificaci√≥n postproducci√≥n se realiza:",options:["Antes del despliegue para validar la configuraci√≥n del entorno","Despu√©s de que el software ha sido desplegado exitosamente en producci√≥n","Durante el proceso de despliegue para detectar fallos tempranos","Previo a la liberaci√≥n del cambio a los usuarios finales"],correct:1},
            {id:161,module:"m5",category:"Objetivo Postproducci√≥n",question:"El objetivo de la verificaci√≥n postproducci√≥n es confirmar que el software:",options:["Cumple con los criterios de aceptaci√≥n definidos por el PO","Se comporta como se espera en el ambiente real","Pasa todas las pruebas de humo automatizadas","Est√° correctamente integrado con los sistemas dependientes"],correct:1},
            {id:162,module:"m5",category:"Postproducci√≥n Repetir",question:"La verificaci√≥n postproducci√≥n NO se trata de:",options:["Validar la funcionalidad en el entorno de producci√≥n","Repetir todo el testing, sino realizar pruebas esenciales","Verificar la configuraci√≥n del despliegue realizado","Confirmar que el cambio no afect√≥ a otras funcionalidades"],correct:1},
            {id:163,module:"m5",category:"Bloqueo Postproducci√≥n",question:"¬øAplica bloqueo del pipeline de CI/CD para la verificaci√≥n postproducci√≥n?",options:["S√≠, si se detectan fallos cr√≠ticos en las pruebas de humo","No, ya que el c√≥digo ya est√° desplegado en Producci√≥n","Solo para sistemas cr√≠ticos bajo regulaci√≥n DORA o SOX","Depende de la configuraci√≥n del pipeline del proyecto"],correct:1},
            {id:164,module:"m5",category:"No Conformidad Grave",question:"Si durante la verificaci√≥n postproducci√≥n se detecta una no conformidad grave, esta debe:",options:["Documentarse para su resoluci√≥n en el siguiente sprint","Registrarse y darle alta prioridad para ser resuelta, incluso por encima de otros requerimientos","Evaluarse para determinar si requiere rollback del cambio","Notificarse al Service Owner para definir el plan de acci√≥n"],correct:1},
            {id:165,module:"m5",category:"Shapers",question:"En la verificaci√≥n postproducci√≥n, adem√°s de DEV, ¬øqui√©nes son responsables de su ejecuci√≥n?",options:["El equipo de operaciones y soporte de producci√≥n","Shapers","El √°rea de QA asignada al proyecto","Los representantes del √°rea de negocio"],correct:1},

            // ========== M√ìDULO 6: PROCESO E2E (20 preguntas) ==========
            {id:166,module:"m6",category:"Integraci√≥n Testing",question:"El proceso de testing est√° profundamente integrado en:",options:["Las fases de desarrollo y pruebas del proyecto","Todo el ciclo de vida de desarrollo de software","El framework de trabajo √°gil implementado en el Grupo","Los procesos de gesti√≥n de cambios y releases"],correct:1},
            {id:167,module:"m6",category:"Playbooks ONE",question:"El proceso de testing est√° relacionado con las pr√°cticas descritas en:",options:["Los est√°ndares de calidad de la industria financiera","Los playbooks de ONE","Las gu√≠as de arquitectura empresarial del Grupo","Los manuales de operaci√≥n de sistemas cr√≠ticos"],correct:1},
            {id:168,module:"m6",category:"Macroprocesos",question:"El Proceso de Creaci√≥n E2E contiene:",options:["3 macroprocesos principales con subfases","5 macroprocesos","7 macroprocesos desde ideaci√≥n hasta operaci√≥n","10 macroprocesos seg√∫n la metodolog√≠a ONE"],correct:1},
            {id:169,module:"m6",category:"Ideaci√≥n",question:"En la fase de Ideaci√≥n y Evaluaci√≥n de Requerimientos se deben definir claramente:",options:["Los recursos necesarios y el cronograma del proyecto","Los criterios de aceptaci√≥n y los requisitos de calidad y seguridad","La arquitectura t√©cnica y las integraciones requeridas","El alcance del MVP y las funcionalidades prioritarias"],correct:1},
            {id:170,module:"m6",category:"Beneficio Identificaci√≥n",question:"La identificaci√≥n temprana de los requisitos de testing evita:",options:["Sobrecostos en infraestructura de pruebas","Retrabajos en fases posteriores","Conflictos entre equipos de desarrollo y QA","Demoras en la aprobaci√≥n de releases"],correct:1},
            {id:171,module:"m6",category:"Fase Dise√±o E2E",question:"Durante la fase de Dise√±o del proceso E2E, se debe elaborar:",options:["La arquitectura t√©cnica detallada del sistema","El Plan de Pruebas Estrat√©gico","El documento de especificaci√≥n funcional completo","El an√°lisis de impacto en sistemas existentes"],correct:1},
            {id:172,module:"m6",category:"Dise√±o Definiciones",question:"En la fase de Dise√±o se definen los tipos de pruebas, los entornos de ejecuci√≥n, los datos de prueba y:",options:["Las herramientas de automatizaci√≥n a utilizar","Los criterios de aceptaci√≥n","Los responsables de cada tipo de prueba","Las m√©tricas de calidad a reportar"],correct:1},
            {id:173,module:"m6",category:"Fase Desarrollo E2E",question:"En la fase de Desarrollo, el equipo es responsable de la construcci√≥n de componentes tecnol√≥gicos y:",options:["La documentaci√≥n t√©cnica del c√≥digo desarrollado","La realizaci√≥n de pruebas unitarias","La integraci√≥n con sistemas dependientes del ecosistema","La preparaci√≥n de los entornos de prueba"],correct:1},
            {id:174,module:"m6",category:"Desarrollo Actualizaci√≥n",question:"Durante la fase de Desarrollo se debe actualizar el plan de pruebas y:",options:["El documento de arquitectura t√©cnica","El plan de retorno","El backlog de producto con las historias completadas","El registro de riesgos del proyecto"],correct:1},
            {id:175,module:"m6",category:"Pruebas E2E Fase",question:"La fase de Pruebas E2E es donde se valida que el desarrollo funcione correctamente en:",options:["Un entorno de desarrollo con datos sint√©ticos","Un entorno de calidad","El entorno de preproducci√≥n con r√©plica de datos","Un entorno aislado con configuraci√≥n de producci√≥n"],correct:1},
            {id:176,module:"m6",category:"Despliegue Calidad",question:"En la fase de Pruebas E2E, el desarrollo se despliega en:",options:["El entorno de staging para validaci√≥n final","Entornos de prueba y/o calidad","El entorno de preproducci√≥n exclusivamente","Entornos ef√≠meros creados para cada ejecuci√≥n"],correct:1},
            {id:177,module:"m6",category:"C204 Refinamiento",question:"Durante la ambientaci√≥n y generaci√≥n de datos se refinan los:",options:["Requisitos funcionales del sistema","Casos de Prueba (C204)","Escenarios de integraci√≥n con sistemas externos","Datos de entrada para pruebas de rendimiento"],correct:1},
            {id:178,module:"m6",category:"OCTA",question:"OCTA se menciona en el contexto de pruebas de:",options:["Seguridad y vulnerabilidades","Rendimiento","Integraci√≥n entre sistemas","Aceptaci√≥n de usuario"],correct:1},
            {id:179,module:"m6",category:"RMP",question:"El RMP (Riesgo Mitigado por Pruebas) representa:",options:["El porcentaje de cobertura de pruebas alcanzado","El valor de la calidad del software","La reducci√≥n de defectos respecto a versiones anteriores","El retorno de inversi√≥n en actividades de testing"],correct:1},
            {id:180,module:"m6",category:"VoBo Pruebas",question:"¬øQui√©n otorga el visto bueno (Vo.Bo.) a las pruebas?",options:["El Product Owner del proyecto","El Service Owner","El l√≠der del equipo de QA","El Release Manager responsable"],correct:1},
            {id:181,module:"m6",category:"Automatizaci√≥n E2E",question:"En la fase de Pruebas E2E se prioriza la automatizaci√≥n con herramientas como:",options:["Selenium, Cypress y herramientas de testing funcional","HAD NextGen, ACIS, IA","Jenkins, GitLab CI y herramientas de integraci√≥n continua","JMeter, Gatling y herramientas de pruebas de carga"],correct:1},
            {id:182,module:"m6",category:"Roles Clave E2E",question:"Los roles clave en la fase de Pruebas E2E incluyen Scrum Master, Scrum Team, Deployment Quality, Information Security y:",options:["Product Owner, QA Lead y representantes del negocio","Service Owner, Data, Arquitectura, entre otros","Release Manager, Change Lead y equipos de infraestructura","App Owner, DevOps y equipos de soporte"],correct:1},
            {id:183,module:"m6",category:"Delegaci√≥n BEx",question:"En la fase de Delegaci√≥n al BEx se asegura la evidencia del correcto funcionamiento y se delega:",options:["La responsabilidad de operaci√≥n al equipo de soporte","La funcionalidad productiva a equipos BEx","El monitoreo y alertas a los equipos de operaciones","La documentaci√≥n de usuario a los equipos de capacitaci√≥n"],correct:1},
            {id:184,module:"m6",category:"Gesti√≥n Cambios",question:"La fase de Gesti√≥n de Cambios implica la instalaci√≥n en:",options:["Entornos de preproducci√≥n para validaci√≥n final","Ambientes productivos de la funcionalidad desarrollada","Entornos de staging con usuarios piloto","Entornos de calidad para pruebas de regresi√≥n"],correct:1},
            {id:185,module:"m6",category:"Verificaci√≥n Post Gesti√≥n",question:"En la fase de Gesti√≥n de Cambios, el testing se enfoca en la validaci√≥n de la implantaci√≥n y:",options:["La documentaci√≥n del cambio realizado en producci√≥n","La verificaci√≥n post-producci√≥n","El monitoreo de indicadores de salud del sistema","La capacitaci√≥n a usuarios sobre las nuevas funcionalidades"],correct:1}
        ];

        // State
        let questions = [];
        let currentQuestionIndex = 0;
        let userAnswers = {};
        let answerResults = {};
        let correctCount = 0;
        let incorrectCount = 0;
        let selectedModules = new Set();

        const modules = {
            'm1': { name: 'üìö M√≥dulo 1: Fundamentos', count: 25 },
            'm2': { name: 'üìã M√≥dulo 2: Introducci√≥n', count: 18 },
            'm3': { name: '‚öñÔ∏è M√≥dulo 3: Principios', count: 21 },
            'm4': { name: 'üìù M√≥dulo 4: Directrices', count: 57 },
            'm5': { name: 'üî¨ M√≥dulo 5: Tipolog√≠as', count: 44 },
            'm6': { name: 'üîÑ M√≥dulo 6: Proceso E2E', count: 20 }
        };

        function init() {
            renderModules();
        }

        function renderModules() {
            const grid = document.getElementById('categoryGrid');
            
            grid.innerHTML = `
                <div class="category-chip selected" onclick="toggleAllModules(this)" data-module="all">
                    <div class="category-chip-name">üìö Todos los m√≥dulos</div>
                    <div class="category-chip-count">185 preguntas</div>
                </div>
            `;

            Object.entries(modules).forEach(([key, value]) => {
                grid.innerHTML += `
                    <div class="category-chip selected" onclick="toggleModule('${key}', this)" data-module="${key}">
                        <div class="category-chip-name">${value.name}</div>
                        <div class="category-chip-count">${value.count} preguntas</div>
                    </div>
                `;
            });

            selectedModules = new Set(Object.keys(modules));
        }

        function toggleAllModules(element) {
            const allChips = document.querySelectorAll('.category-chip');
            if (element.classList.contains('selected')) {
                allChips.forEach(chip => chip.classList.remove('selected'));
                selectedModules.clear();
            } else {
                allChips.forEach(chip => chip.classList.add('selected'));
                selectedModules = new Set(Object.keys(modules));
            }
        }

        function toggleModule(module, element) {
            document.querySelector('[data-module="all"]').classList.remove('selected');
            
            if (selectedModules.has(module)) {
                selectedModules.delete(module);
                element.classList.remove('selected');
            } else {
                selectedModules.add(module);
                element.classList.add('selected');
            }
            
            if (selectedModules.size === Object.keys(modules).length) {
                document.querySelector('[data-module="all"]').classList.add('selected');
            }
        }

        function shuffleOptions(question) {
            const indices = question.options.map((_, i) => i);
            
            for (let i = indices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [indices[i], indices[j]] = [indices[j], indices[i]];
            }
            
            const newOptions = indices.map(i => question.options[i]);
            const newCorrect = indices.indexOf(question.correct);
            
            return {
                ...question,
                options: newOptions,
                correct: newCorrect
            };
        }

        function startExam() {
            if (selectedModules.size === 0) {
                alert('Por favor selecciona al menos un m√≥dulo');
                return;
            }

            let limit = parseInt(document.getElementById('questionLimit').value) || 185;
            limit = Math.max(10, Math.min(185, limit));

            let filteredQuestions = allQuestions.filter(q => selectedModules.has(q.module));
            filteredQuestions = shuffleArray(filteredQuestions);
            filteredQuestions = filteredQuestions.slice(0, limit);
            questions = filteredQuestions.map(q => shuffleOptions(q));
            
            currentQuestionIndex = 0;
            userAnswers = {};
            answerResults = {};
            correctCount = 0;
            incorrectCount = 0;

            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('examScreen').classList.remove('hidden');
            
            document.getElementById('totalQuestions').textContent = questions.length;
            
            renderQuestionNav();
            renderQuestion();
            updateStats();
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function renderQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            questions.forEach((_, index) => {
                const btn = document.createElement('button');
                btn.className = 'nav-btn';
                if (index === currentQuestionIndex) btn.classList.add('current');
                if (answerResults[index] === true) btn.classList.add('correct');
                if (answerResults[index] === false) btn.classList.add('incorrect');
                btn.textContent = index + 1;
                btn.onclick = () => goToQuestion(index);
                nav.appendChild(btn);
            });
        }

        function goToQuestion(index) {
            currentQuestionIndex = index;
            renderQuestion();
            renderQuestionNav();
        }

        function updateStats() {
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('incorrectCount').textContent = incorrectCount;
            
            const answeredCount = Object.keys(userAnswers).length;
            const progress = (answeredCount / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            const isAnswered = userAnswers[currentQuestionIndex] !== undefined;
            const userAnswer = userAnswers[currentQuestionIndex];
            const isCorrect = answerResults[currentQuestionIndex];
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('questionNumber').textContent = `Pregunta ${currentQuestionIndex + 1}`;
            document.getElementById('questionCategory').textContent = question.category;
            
            const moduleBadge = document.getElementById('moduleBadge');
            const moduleLabels = {
                'm1': 'M√≥dulo 1',
                'm2': 'M√≥dulo 2',
                'm3': 'M√≥dulo 3',
                'm4': 'M√≥dulo 4',
                'm5': 'M√≥dulo 5',
                'm6': 'M√≥dulo 6'
            };
            moduleBadge.textContent = moduleLabels[question.module] || question.module;
            moduleBadge.className = `module-badge ${question.module}`;
            
            document.getElementById('questionContent').innerHTML = `<p class="question-text">${question.question}</p>`;
            
            const questionCard = document.getElementById('questionCard');
            questionCard.classList.remove('answered-correct', 'answered-incorrect');
            if (isAnswered) {
                questionCard.classList.add(isCorrect ? 'answered-correct' : 'answered-incorrect');
            }
            
            const optionsList = document.getElementById('optionsList');
            const letters = ['A', 'B', 'C', 'D', 'E', 'F'];
            
            optionsList.innerHTML = question.options.map((option, index) => {
                let className = 'option';
                let feedback = '';
                
                if (isAnswered) {
                    className += ' disabled';
                    if (index === question.correct) {
                        className += ' correct';
                        if (index === userAnswer) {
                            feedback = '<span class="option-feedback correct">‚úì ¬°Correcto!</span>';
                        } else {
                            className += ' show-correct';
                            feedback = '<span class="option-feedback correct">‚úì Respuesta correcta</span>';
                        }
                    } else if (index === userAnswer) {
                        className += ' incorrect';
                        feedback = '<span class="option-feedback incorrect">‚úó Incorrecto</span>';
                    }
                }
                
                return `
                    <div class="${className}" onclick="${isAnswered ? '' : `selectOption(${index})`}">
                        <span class="option-letter">${letters[index]}</span>
                        <span class="option-text">${option}</span>
                        ${feedback}
                    </div>
                `;
            }).join('');

            const feedbackContainer = document.getElementById('feedbackContainer');
            if (isAnswered) {
                if (isCorrect) {
                    feedbackContainer.innerHTML = `
                        <div class="feedback-message correct">
                            <span class="feedback-icon">‚úÖ</span>
                            <span>¬°Excelente! Has respondido correctamente.</span>
                        </div>
                    `;
                } else {
                    feedbackContainer.innerHTML = `
                        <div class="feedback-message incorrect">
                            <span class="feedback-icon">‚ùå</span>
                            <span>Respuesta incorrecta. La respuesta correcta est√° marcada en verde.</span>
                        </div>
                    `;
                }
            } else {
                feedbackContainer.innerHTML = '';
            }

            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === questions.length - 1) {
                document.getElementById('nextBtn').classList.add('hidden');
                document.getElementById('finishBtn').classList.remove('hidden');
            } else {
                document.getElementById('nextBtn').classList.remove('hidden');
                document.getElementById('finishBtn').classList.add('hidden');
            }
        }

        function selectOption(optionIndex) {
            if (userAnswers[currentQuestionIndex] !== undefined) return;
            
            const question = questions[currentQuestionIndex];
            const isCorrect = optionIndex === question.correct;
            
            userAnswers[currentQuestionIndex] = optionIndex;
            answerResults[currentQuestionIndex] = isCorrect;
            
            if (isCorrect) {
                correctCount++;
            } else {
                incorrectCount++;
            }
            
            updateStats();
            renderQuestion();
            renderQuestionNav();
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
                renderQuestionNav();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
                renderQuestionNav();
            }
        }

        function finishExam() {
            const unanswered = questions.length - Object.keys(userAnswers).length;
            const score = Math.round((correctCount / questions.length) * 100);

            document.getElementById('examScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = `${score}%`;
            document.getElementById('finalCorrectCount').textContent = correctCount;
            document.getElementById('finalIncorrectCount').textContent = incorrectCount;
            document.getElementById('finalUnansweredCount').textContent = unanswered;

            let gradeText = '';
            let gradeEmoji = '';
            
            if (score >= 90) { gradeText = 'Excelente'; gradeEmoji = 'üèÜ'; }
            else if (score >= 80) { gradeText = 'Muy Bien'; gradeEmoji = 'üéâ'; }
            else if (score >= 70) { gradeText = 'Aprobado'; gradeEmoji = '‚úÖ'; }
            else if (score >= 60) { gradeText = 'Necesita Mejorar'; gradeEmoji = 'üìö'; }
            else { gradeText = 'No Aprobado'; gradeEmoji = '‚ùå'; }

            document.getElementById('gradeText').textContent = `${gradeEmoji} ${gradeText}`;
        }

        function reviewAnswers() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('reviewScreen').classList.remove('hidden');

            const container = document.getElementById('reviewContainer');
            const letters = ['A', 'B', 'C', 'D', 'E', 'F'];
            const moduleLabels = {
                'm1': 'M√≥dulo 1',
                'm2': 'M√≥dulo 2',
                'm3': 'M√≥dulo 3',
                'm4': 'M√≥dulo 4',
                'm5': 'M√≥dulo 5',
                'm6': 'M√≥dulo 6'
            };
            
            container.innerHTML = questions.map((question, qIndex) => {
                const userAnswer = userAnswers[qIndex];
                const isCorrect = answerResults[qIndex];
                const isUnanswered = userAnswer === undefined;

                return `
                    <div class="question-card fade-in" style="animation-delay: ${qIndex * 0.02}s">
                        <div class="question-header">
                            <span class="question-number">Pregunta ${qIndex + 1}</span>
                            <span class="question-category">${question.category}</span>
                            <span class="module-badge ${question.module}">${moduleLabels[question.module]}</span>
                            <span style="margin-left: auto; font-size: 1.5rem;">
                                ${isUnanswered ? '‚ö†Ô∏è' : (isCorrect ? '‚úÖ' : '‚ùå')}
                            </span>
                        </div>
                        <p class="question-text">${question.question}</p>
                        <div class="options-list">
                            ${question.options.map((option, oIndex) => {
                                let className = 'option disabled';
                                let feedback = '';
                                
                                if (oIndex === question.correct) {
                                    className += ' correct';
                                    feedback = '<span class="option-feedback correct">‚úì Correcta</span>';
                                } else if (oIndex === userAnswer && !isCorrect) {
                                    className += ' incorrect';
                                    feedback = '<span class="option-feedback incorrect">Tu respuesta</span>';
                                }
                                
                                return `
                                    <div class="${className}">
                                        <span class="option-letter">${letters[oIndex]}</span>
                                        <span class="option-text">${option}</span>
                                        ${feedback}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function backToResults() {
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
        }

        function restartExam() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
            
            questions = [];
            currentQuestionIndex = 0;
            userAnswers = {};
            answerResults = {};
            correctCount = 0;
            incorrectCount = 0;
            
            renderModules();
        }

        init();
    </script>
</body>
</html>
